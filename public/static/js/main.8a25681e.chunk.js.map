{"version":3,"sources":["img/male.svg","img/donut-shop.svg","img/addworker.svg","img/addpromo.svg","img/promotion.svg","img/wallet.svg","img/tippjar-logo.png","img/coin.png","lib/auth-service.js","lib/AuthProvider.js","components/Navbar.js","pages/Business/components/WorkerCard.js","pages/Business/components/PromotionCard.js","lib/business-service.js","pages/Business/components/BusinessCard.js","pages/Business/Business.js","pages/Business/components/BusinessWorkerAdd.js","pages/Business/components/BusinessWorker.js","pages/Business/components/BusinessPromotionAdd.js","pages/Business/components/BusinessPromotion.js","lib/customer-service.js","components/BottomNavBar.js","pages/Customer/components/CustomerCard.js","pages/Customer/components/PromotionCard.js","pages/Customer/Customer.js","pages/Promotions/components/PromotionsPromoCard.js","lib/promotions-service.js","pages/Promotions/Promotions.js","pages/Promotions/components/PromotionsWorkerCard.js","pages/Promotions/components/PromotionProgressCard.js","pages/Promotions/components/PromotionsProfile.js","pages/Promotions/components/PromotionsWorkerProfile.js","pages/Promotions/components/PromotionsGetPromo.js","pages/Home.js","pages/Signup.js","pages/Login.js","components/PrivateBusinessRoute.js","components/PrivateCustomerRoute.js","components/AnonRoute.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","auth","Auth","Object","classCallCheck","this","axios","create","baseURL","process","withCredentials","user","username","password","email","location","userType","post","then","_ref","data","_ref2","response","get","React","createContext","Consumer","Provider","withAuth","Comp","_Component","WithAuth","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","react_default","a","createElement","authStore","assign","login","signup","logout","isLoggedin","isBusinessAccount","props","Component","AuthProvider","state","isLoading","_this2","setState","catch","error","message","statusMessage","console","log","_this3","me","_this$state","children","goBack","history","_this$props","className","Fragment","src","onClick","WorkerCard","numberToStar","selectorString","_id","toString","rating","document","getElementById","innerHTML","imgUrl","alt","name","type","id","tips","PromotionCard","pointsToUnlock","business","BusinessService","put","concat","_ref3","worker","_ref4","_ref5","delete","_ref6","_ref7","promotion","_ref8","_ref9","_ref10","file","_ref11","BusinessCard","call","handleFormSubmit","event","preventDefault","businessService","updateBusiness","showModal","querySelector","style","display","err","handleChange","_event$target","target","defineProperty","toggleModal","blackBg","fileOnchange","files","uploadData","FormData","append","imageUpload","disable","color","background","borderRadius","width","height","textAlign","lineHeight","numberOfWorkers","numberOfPromotions","getBusiness","selectedBusiness","objectSpread","workers","length","promotions","onSubmit","onChange","htmlFor","disabled","toggleWorker","togglePromotion","bodyBgDefault","body","classList","add","remove","Link","to","addWorker","addPromo","BusinessCard_BusinessCard","map","WorkerCard_WorkerCard","PromotionCard_PromotionCard","BusinessWorkerAdd","push","closeModal","BusinessWorker","match","params","updateWorker","deleteWorker","getAWorker","selectedWorker","BusinessPromotionAdd","addPromotion","BusinessPromotion","updatePromotion","deletePromotion","getAPromotion","selectedPromotion","Customer","CustomerService","customer","BottomNavbar","balance","customerService","updateWallet","wallet","balanceFinal","updateBalance","min","customerImg","walletImg","promoImg","customerCard","updateCustomer","getCustomer","selectedCustomer","pinnedbusiness","_this$state2","points","loading","newBalance","BottomNavBar","CustomerCard_customerCard","components_PromotionCard_PromotionCard","PromotionsPromoCard","PromotionsService","workerid","promotionid","AllPromotions","promotionsService","getPromotions","selectedPromotions","PromotionsPromoCard_PromotionsPromoCard","PromotionWorkerCard","PromotionProgressCard","promoPosition","avPromo","mathValue","Math","floor","totalPoints","finalLeft","usedPromo","userID","elem","customerID","userPoints","left","position","pointerEvents","padding","avPromotion","PromotionsProfile","TotalPoints","totalPointsMapped","setPointsPosition","progressBar","PromotionProgressCard_PromotionProgressCard","PromotionsWorkerCard_PromotionWorkerCard","PromotionsWorkerProfile","workerId","updateTipWorker","_this$state3","getAPromotionsWorker","transform","margin","max","PromotionsGetPromo","promoId","claimPromotion","getAPromotionsPromo","gimmick","el","exists","parentNode","removeChild","element","canvas","ctx","getContext","focused","window","innerWidth","innerHeight","coin","Image","onload","appendChild","drawloop","coins","requestAnimationFrame","clearRect","random","x","y","dy","s","i","drawImage","splice","logo","fontFamily","fontWeight","bodyBgBusiness","bodyBgCustomer","removeCanvas","placeholder","businessImg","required","component","rest","objectWithoutProperties","Route","render","Redirect","App","lib_AuthProvider","path","Navbar","Switch","components_AnonRoute","Home","exact","Signup","Login","components_PrivateBusinessRoute","Business","BusinessPromotionsAdd","components_PrivateCustomerRoute","Promotions","ReactDOM","BrowserRouter","src_App"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,gFCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sHCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+MCmCzBC,EAFF,eA9BX,SAAAC,IAAeC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GACbG,KAAKJ,KAAOK,IAAMC,OAAO,CACvBC,QAASC,gCACTC,iBAAiB,uDAIdC,GAAM,IACHC,EAAkDD,EAAlDC,SAAUC,EAAwCF,EAAxCE,SAAUC,EAA8BH,EAA9BG,MAAOC,EAAuBJ,EAAvBI,SAAUC,EAAaL,EAAbK,SAC7C,OAAOX,KAAKJ,KACTgB,KAAK,eAAgB,CAAEL,WAAUC,WAAUC,QAAOC,WAAUC,aAC5DE,KAAK,SAAAC,GAAA,OAAAA,EAAGC,qCAGPT,GAAM,IACFC,EAAiCD,EAAjCC,SAAUC,EAAuBF,EAAvBE,SAAUG,EAAaL,EAAbK,SAC5B,OAAOX,KAAKJ,KACTgB,KAAK,cAAe,CAAEL,WAAUC,WAAUG,aAC1CE,KAAK,SAAAG,GAAA,OAAAA,EAAGD,wCAIX,OAAOf,KAAKJ,KAAKgB,KAAK,eAAgB,IAAIC,KAAK,SAAAI,GAAQ,OAAIA,EAASF,oCAIpE,OAAOf,KAAKJ,KAAKsB,IAAI,YAAYL,KAAK,SAAAI,GAAQ,OAAIA,EAASF,mBC3BhCI,IAAMC,gBAA7BC,aAAUC,aAILC,EAAW,SAAAC,GACtB,gBAAAC,GAAA,SAAAC,IAAA,OAAA5B,OAAAC,EAAA,EAAAD,CAAAE,KAAA0B,GAAA5B,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAA4B,GAAAG,MAAA7B,KAAA8B,YAAA,OAAAhC,OAAAiC,EAAA,EAAAjC,CAAA4B,EAAAD,GAAA3B,OAAAkC,EAAA,EAAAlC,CAAA4B,EAAA,EAAAO,IAAA,SAAAC,MAAA,WACW,IAAAC,EAAAnC,KACP,OACEoC,EAAAC,EAAAC,cAACjB,EAAD,KACG,SAAAkB,GACC,OACEH,EAAAC,EAAAC,cAACd,EAAD1B,OAAA0C,OAAA,CACEC,MAAOF,EAAUE,MACjBC,OAAQH,EAAUG,OAClBpC,KAAMiC,EAAUjC,KAChBqC,OAAQJ,EAAUI,OAClBC,WAAYL,EAAUK,WACtBC,kBAAmBN,EAAUM,mBACzBV,EAAKW,cAbvBpB,EAAA,CAA8BqB,cA2IjBC,6MAnHbC,MAAQ,CACNL,YAAY,EACZC,mBAAmB,EACnBvC,KAAM,KACN4C,WAAW,KA+BbR,OAAS,SAAApC,GAAQ,IACPC,EAAkDD,EAAlDC,SAAUC,EAAwCF,EAAxCE,SAAUC,EAA8BH,EAA9BG,MAAOC,EAAuBJ,EAAvBI,SAAUC,EAAaL,EAAbK,SAC7Cf,EACG8C,OAAO,CAAEnC,WAAUC,WAAUC,QAAOC,WAAUC,aAC9CE,KAAK,SAAAP,GACiB,aAAlBA,EAAKK,SACNwC,EAAKC,SAAS,CACZR,YAAY,EACZtC,OACAuC,mBAAmB,IAGrBM,EAAKC,SAAS,CACZR,YAAY,EACZtC,WAIL+C,MAAM,SAAAvC,GAAmC,IAAdwC,EAAcxC,EAAhCG,SAAYF,KACpBoC,EAAKC,SAAS,CACZG,QAASD,EAAME,qBAKvBf,MAAQ,SAAAnC,GAAQ,IACNC,EAAiCD,EAAjCC,SAAUC,EAAuBF,EAAvBE,SAAUG,EAAaL,EAAbK,SAC5B8C,QAAQC,IAAI/C,GACZf,EACG6C,MAAM,CAAElC,WAAUI,WAAUH,aAC5BK,KAAK,SAAAP,GACiB,aAAlBA,EAAKK,SACNwC,EAAKC,SAAS,CACZR,YAAY,EACZtC,OACAuC,mBAAmB,IAGrBM,EAAKC,SAAS,CACZR,YAAY,EACZtC,WAIL+C,MAAM,iBAGXV,OAAS,WACP/C,EACG+C,SACA9B,KAAK,WACJsC,EAAKC,SAAS,CACZR,YAAY,EACZtC,KAAM,KACNuC,mBAAmB,MAGtBQ,MAAM,kGArFS,IAAAM,EAAA3D,KAClBJ,EACGgE,KACA/C,KAAK,SAAAP,GACiB,aAAlBA,EAAKK,SACNgD,EAAKP,SAAS,CACdR,YAAY,EACZtC,OACA4C,WAAW,EACXL,mBAAmB,IAGnBc,EAAKP,SAAS,CACZR,YAAY,EACZtC,OACA4C,WAAW,MAIhBG,MAAM,WACLM,EAAKP,SAAS,CACZR,YAAY,EACZtC,KAAM,KACN4C,WAAW,uCAgEV,IAAAW,EACoD7D,KAAKiD,MAAxDC,EADDW,EACCX,UAAWN,EADZiB,EACYjB,WAAYtC,EADxBuD,EACwBvD,KAAMuC,EAD9BgB,EAC8BhB,kBACrC,OAAOK,EACLd,EAAAC,EAAAC,cAAA,sBAEAF,EAAAC,EAAAC,cAAChB,EAAD,CACEY,MAAO,CACLU,aACAC,oBACAvC,OACAmC,MAAOzC,KAAKyC,MACZE,OAAQ3C,KAAK2C,OACbD,OAAQ1C,KAAK0C,SAGd1C,KAAK8C,MAAMgB,iBA9GOf,aCJZxB,+MArBbwC,OAAS,WACP5B,EAAKW,MAAMkB,QAAQD,kFAEZ,IAAAE,EAE8BjE,KAAK8C,MAA5BH,GAFPsB,EAEC3D,KAFD2D,EAEOtB,QAAQC,EAFfqB,EAEerB,WACtB,OACER,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,iBAEZtB,EACCR,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACE/B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,kEAAkEC,QAASrE,KAAK+D,SACzF3B,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,uDAAuDC,QAAS1B,KAEzE,aAjBSI,6BCAAuB,oNAEnBC,aAAe,WAEb,IAAMC,EAAkBrC,EAAKW,MAAM2B,IAAKC,WAClCC,EAASC,SAASC,eAAeL,GAEvCf,QAAQC,IAAI,KAAMiB,GAEO,IAAtBxC,EAAKW,MAAM6B,OACZA,EAAOG,UAAP,qEAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,2EAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,iFAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,uFAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,6FAC6B,IAAtB3C,EAAKW,MAAM6B,SAClBA,EAAOG,UAAP,oHAIF9E,KAAKuE,gDAIL,OACEnC,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,eACjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMiC,OAAQC,IAAKhF,KAAK8C,MAAMmC,QAE/C7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMmC,MAChB7C,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMoC,MAChB9C,EAAAC,EAAAC,cAAA,KAAG6C,GAAInF,KAAK8C,MAAM2B,MAClBrC,EAAAC,EAAAC,cAAA,wBAAgBtC,KAAK8C,MAAMsC,KAA3B,qBAtC4BrC,cCAnBsC,mLAEjB,OACEjD,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,eACjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMiC,OAAQC,IAAKhF,KAAK8C,MAAMmC,QAE/C7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMmC,MAChB7C,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMoC,MAChB9C,EAAAC,EAAAC,cAAA,+BAAuBtC,KAAK8C,MAAMwC,0BAXHvC,oBCgF5BwC,EAFE,eA9Ef,SAAAC,IAAe1F,OAAAC,EAAA,EAAAD,CAAAE,KAAAwF,GACbxF,KAAKuF,SAAWtF,IAAMC,OAAO,CAC3BC,QAASC,gCACTC,iBAAiB,8DAMnB,OAAOL,KAAKuF,SACTrE,IAAI,iBACJL,KAAK,SAAAC,GAAA,OAAAA,EAAGC,8CAGEwE,GACb,OAAOvF,KAAKuF,SACTE,IADI,uBACwBF,GAC5B1E,KAAK,SAAAG,GAAA,OAAAA,EAAGD,0CAIFoE,GACT,OAAOnF,KAAKuF,SACTrE,IADI,yBAAAwE,OACyBP,IAC7BtE,KAAK,SAAA8E,GAAA,OAAAA,EAAG5E,yCAGH6E,GACR,OAAO5F,KAAKuF,SACT3E,KADI,4BAC8BgF,GAClC/E,KAAK,SAAAgF,GAAA,OAAAA,EAAG9E,4CAGA6E,EAAOT,GAClB,OAAOnF,KAAKuF,SACTE,IADI,yBAAAC,OACyBP,EADzB,WACsCS,GAC1C/E,KAAK,SAAAiF,GAAA,OAAAA,EAAG/E,4CAGAoE,GACX,OAAOnF,KAAKuF,SACTQ,OADI,yBAAAL,OAC4BP,EAD5B,YAEJtE,KAAK,SAAAmF,GAAA,OAAAA,EAAGjF,6CAICoE,GACZ,OAAOnF,KAAKuF,SACTrE,IADI,4BAAAwE,OAC4BP,IAChCtE,KAAK,SAAAoF,GAAA,OAAAA,EAAGlF,4CAEAmF,GACX,OAAOlG,KAAKuF,SACT3E,KADI,+BACiCsF,GACrCrF,KAAK,SAAAsF,GAAA,OAAAA,EAAGpF,+CAGGmF,EAAUf,GACxB,OAAOnF,KAAKuF,SACTE,IADI,4BAAAC,OAC4BP,EAD5B,WACyCe,GAC7CrF,KAAK,SAAAuF,GAAA,OAAAA,EAAGrF,+CAGGoE,GACd,OAAOnF,KAAKuF,SACTQ,OADI,4BAAAL,OAC+BP,EAD/B,YAEJtE,KAAK,SAAAwF,GAAA,OAAAA,EAAGtF,2CAIDuF,GACV,OAAOtG,KAAKuF,SACX3E,KAAK,sBAAuB0F,GAC5BzF,KAAK,SAAA0F,GAAA,OAAAA,EAAExF,iBCxESyF,cACnB,SAAAA,EAAY1D,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwG,IAChBrE,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAA0G,GAAAC,KAAAzG,KAAM8C,KAaR4D,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEa1B,EAAKc,MAApC1C,EAFkBsD,EAElBtD,SAAUG,EAFQmD,EAERnD,SAAUqE,EAFFlB,EAEEkB,OAE5B8B,EAAgBC,eAAe,CAAEvG,WAAUG,WAAUqE,WACpDlE,KAAK,SAAC0E,GAELpD,EAAKiB,SAAS,CACZ2B,OAAQQ,EAASR,OACjBgC,WAAU,IAGEnC,SAASoC,cAAc,aAC7BC,MAAMC,QAAU,SAGzB7D,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA9BZhF,EAkClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KApCRC,EAsClBqF,YAAc,WACZrF,EAAKiB,SAAS,CAAE2D,WAAY5E,EAAKc,MAAM8D,YAEvC,IAAIU,EAAU7C,SAASoC,cAAc,aACR,UAA1BS,EAAQR,MAAMC,QACfO,EAAQR,MAAMC,QAAU,OAExBO,EAAQR,MAAMC,QAAU,SA7CV/E,EAiDlBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BO,EAAgBkB,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MA7DdnB,EA+DlB8E,MAAO,WAYL,MAVY,CACZgB,MAAS,QACTC,WAAc,UACdC,aAAc,MACdC,MAAO,OACPC,OAAO,OACPnB,QAAS,eACToB,UAAW,SACXC,WAAY,SAvEZpG,EAAKc,MAAQ,CACX1C,SAAU,GACVwE,OAAQ,GACRrE,SAAU,GACV8H,gBAAiB,EACjBC,mBAAoB,EACpB1B,WAAW,EACXiB,SAAS,GATK7F,mFA8EE,IAAAgB,EAAAnD,KAElB6G,EAAgB6B,cACf7H,KAAK,SAAC0E,GACL,IAAMoD,EAAmBpD,EACzBpC,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,CAAe0I,gBAAkBG,EAAiBE,QAAQC,OAAOL,mBAAqBE,EAAiBI,WAAWD,QAAUH,MAE3HtF,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAK9B,OACE/E,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,sBAEb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,yBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,4EAA4EC,QAASrE,KAAKwH,YAAatD,UAAU,gBAC1H9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,OAAQC,IAAKhF,KAAKiD,MAAM1C,YAE/C6B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,8BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,UAAKtC,KAAKiD,MAAM1C,UAChB6B,EAAAC,EAAAC,cAAA,KAAG2E,MAAO,CAACgB,MAAM,YAAajI,KAAKiD,MAAMvC,WAG3C0B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,sBACb9B,EAAAC,EAAAC,cAAA,qBAAYF,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUjH,KAAKiD,MAAMuF,iBAAnD,KACApG,EAAAC,EAAAC,cAAA,wBAAeF,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUjH,KAAKiD,MAAMwF,oBAAtD,QAMJzI,KAAKiD,MAAM8D,UACb3E,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,iBAAkBxC,UAAU,mBACjD9B,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKwH,aAA7C,KACEpF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAEf9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAChF9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAAyFF,UAAU,sBAAsBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,UAErB3C,EAAAC,EAAAC,cAAA,8BAOFF,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAOlC,KAAKiD,MAAM1C,SAClB0I,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,wCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAOlC,KAAKiD,MAAMvC,SAClBuI,SAAUjJ,KAAKoH,eAEhBpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUiH,UAAQ,EAACjF,UAAU,yBAAyB9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUgC,UAAU,0BAGxJ,aA5JkCnB,+CCsG3BxB,+MA9Fb0B,MAAQ,CACN1C,SAAS,GACTE,MAAO,GACPsE,OAAQ,GACRrE,SAAU,GACVqI,WAAY,GACZpI,SAAU,WACVkI,QAAS,GACTO,cAAe,EACfC,iBAAkB,KAEpBC,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,+BAGxBN,aAAe,WACbjH,EAAKiB,SAAS,CAAEgG,cAAc,EAAMC,iBAAgB,OAEtDA,gBAAkB,WAChBlH,EAAKiB,SAAS,CAAEgG,cAAc,EAAOC,iBAAgB,wFAGnC,IAAAlG,EAAAnD,KAElBA,KAAKsJ,gBAELzC,EAAgB6B,cACf7H,KAAK,SAAC0E,GACL,IAAMoD,EAAmBpD,EACzBpC,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkB6I,MAEjBtF,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAI9B,IAAM5B,EAAWvF,KAAKiD,MAEtB,OACEb,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,iBACdlE,KAAKiD,MAAMmG,aACXhH,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,wBAA2B1F,UAAU,qBAC3C9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKyF,IAAW7E,IAAI,MAG3B5C,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,2BAA+B1F,UAAU,wBACjD9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAK0F,IAAU9E,IAAI,MAKtB5C,EAAAC,EAAAC,cAACyH,EAAiBxE,GAEpBnD,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,8BAA8BG,QAASrE,KAAKoJ,cACzDhH,EAAAC,EAAAC,cAAA,uBACEtC,KAAKiD,MAAMmG,aAAehH,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBAAf,KAA2C9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAAf,MAEzE9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,iCAAiCG,QAASrE,KAAKqJ,iBAC5DjH,EAAAC,EAAAC,cAAA,0BACEtC,KAAKiD,MAAMoG,gBAAkBjH,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBAAf,KAA2C9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAAf,OAM5ElE,KAAKiD,MAAMmG,aAEX7D,EAASsD,QAAQmB,IAAI,SAACpE,GAAD,OACnBxD,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,qBAAAlE,OAAuBE,EAAOnB,KAAOxC,IAAK2D,EAAOnB,IAAKP,UAAU,oBACtE9B,EAAAC,EAAAC,cAAC2H,EAAerE,MAMpBL,EAASwD,WAAWiB,IAAI,SAAC9D,GAAD,OAEtB9D,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,wBAAAlE,OAA0BQ,EAAUzB,KAAOxC,IAAKiE,EAAUzB,IAAMP,UAAU,oBAChF9B,EAAAC,EAAAC,cAAC4H,EAAkBhE,cAnFVnD,cCRFoH,cAEnB,SAAAA,EAAYrH,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmK,IAChBhI,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAqK,GAAA1D,KAAAzG,KAAM8C,KAQRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,6BAdNvH,EAiBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEG1B,EAAKc,MAA1BgC,EAFkBpB,EAElBoB,KAAKC,EAFarB,EAEbqB,KAAKH,EAFQlB,EAERkB,OAElB8B,EAAgBgD,UAAU,CAAE5E,OAAKC,OAAKH,WACrClE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAEzB/G,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MAzBZhF,EA4BlBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KA9BRC,EAgClBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BO,EAAgBkB,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MA5CdnB,EA8ClBkI,WAAa,WACXlI,EAAKW,MAAMkB,QAAQoG,KAAK,cA7CxBjI,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACN8C,SAAQ,GANM7F,mFAkDhBnC,KAAKsJ,iDAIL,OACElH,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBAEnB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACnBtE,EAAAC,EAAAC,cAAA,0BACEF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKqK,YAA7C,KACFjI,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAC9E9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAA0FF,UAAU,sBAAqBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,UAErB3C,EAAAC,EAAAC,cAAA,6BAKFF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMgC,KAClBgE,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMiC,KAClB+D,SAAUjJ,KAAKoH,eAEfpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,cAAciH,UAAQ,EAACjF,UAAU,yBACnF9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,cAAcgC,UAAU,kCA/FdnB,aCA1BuH,cAEnB,SAAAA,EAAYxH,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsK,IAChBnI,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAwK,GAAA7D,KAAAzG,KAAM8C,KAURwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,6BAhBNvH,EAmBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAElBzB,EAAOhD,EAAKW,MAAMyH,MAAMC,OAAxBrF,GAFkBtB,EAGI1B,EAAKc,MAA3BgC,EAHkBpB,EAGlBoB,KAAKC,EAHarB,EAGbqB,KAAMH,EAHOlB,EAGPkB,OAEnB8B,EAAgB4D,aAAa,CAAExF,OAAKC,OAAMH,UAASI,GAClDtE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAEzB/G,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA5BZhF,EA+BlBuI,aAAe,WAAM,IACXvF,EAAOhD,EAAKW,MAAMyH,MAAMC,OAAxBrF,GACR0B,EAAgB6D,aAAavF,GAC3BtE,KAAK,WACHsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAE1B/G,MAAO,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MArCdhF,EAwClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KA1CRC,EA4ClBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BO,EAAgBkB,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MAxDdnB,EA0DlBkI,WAAa,WACXlI,EAAKW,MAAMkB,QAAQoG,KAAK,cAzDxBjI,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACNP,OAAQ,EACRS,KAAM,EACN4C,SAAQ,GARM7F,mFA8DE,IAAAgB,EAAAnD,KAElBA,KAAKsJ,gBAELzC,EAAgB8D,WAAW3K,KAAK8C,MAAMyH,MAAMC,OAAOrF,IAClDtE,KAAK,SAAC+E,GACL,IAAMgF,EAAiBhF,EACvBzC,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkB8K,MAEnBvH,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAGrB,IAAAxD,EAAA3D,KACP,OACEoC,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBAEjB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACrBtE,EAAAC,EAAAC,cAAA,6BACEF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKqK,YAA7C,KACFjI,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAC9E9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAA0FF,UAAU,sBAAqBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,UAErB3C,EAAAC,EAAAC,cAAA,6BAKFF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMgC,KAClBgE,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMiC,KAClB+D,SAAUjJ,KAAKoH,eAEfpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,iBAAiBiH,UAAQ,EAACjF,UAAU,yBACtF9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,iBAAiBgC,UAAU,yBAEtD9B,EAAAC,EAAAC,cAAA,SAAO+B,QAAS,kBAAMV,EAAK+G,gBAAgBxF,KAAK,SAAShD,MAAM,SAASgC,UAAU,gCAtHhDnB,aCAvB8H,cAEnB,SAAAA,EAAY/H,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6K,IAChB1I,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAA+K,GAAApE,KAAAzG,KAAM8C,KASRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,6BAfNvH,EAkBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAGkB1B,EAAKc,MAAzCgC,EAHkBpB,EAGlBoB,KAAKC,EAHarB,EAGbqB,KAAKI,EAHQzB,EAGRyB,eAAeP,EAHPlB,EAGOkB,OAEjC8B,EAAgBiE,aAAa,CAAE7F,OAAKC,OAAKI,iBAAgBP,WACxDlE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAEzB/G,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA3BZhF,EA+BlBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KAjCRC,EAsClBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BO,EAAgBkB,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MAlDdnB,EAoDlBkI,WAAa,WACXlI,EAAKW,MAAMkB,QAAQoG,KAAK,cAnDxBjI,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACNI,eAAgB,EAChB0C,SAAQ,GAPM7F,mFAoChBnC,KAAKsJ,iDAqBL,OACElH,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBACnB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACrBtE,EAAAC,EAAAC,cAAA,6BACIF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKqK,YAA7C,KACFjI,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAC9E9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAA0FF,UAAU,sBAAqBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,UAErB3C,EAAAC,EAAAC,cAAA,6BAKFF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMgC,KAClBgE,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMiC,KAClB+D,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,6CACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,SACLD,KAAK,iBACL/C,MAAOlC,KAAKiD,MAAMqC,eAClB2D,SAAUjJ,KAAKoH,eAGfpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,aAAaiH,UAAQ,EAACjF,UAAU,yBAClF9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,aAAagC,UAAU,kCAzGVnB,aCA7BgI,cAEnB,SAAAA,EAAYjI,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+K,IAChB5I,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAiL,GAAAtE,KAAAzG,KAAM8C,KASRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,6BAfNvH,EAkBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAElBzB,EAAOhD,EAAKW,MAAMyH,MAAMC,OAAxBrF,GAFkBtB,EAGkB1B,EAAKc,MAAzCgC,EAHkBpB,EAGlBoB,KAAKC,EAHarB,EAGbqB,KAAKI,EAHQzB,EAGRyB,eAAeP,EAHPlB,EAGOkB,OAEjC8B,EAAgBmE,gBAAgB,CAAE/F,OAAKC,OAAKI,iBAAeP,UAASI,GACnEtE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAEzB/G,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA3BZhF,EA8BlB8I,gBAAkB,WAAM,IACd9F,EAAOhD,EAAKW,MAAMyH,MAAMC,OAAxBrF,GACR0B,EAAgBoE,gBAAgB9F,GAC9BtE,KAAK,WACHsB,EAAKW,MAAMkB,QAAQoG,KAAK,eAE1B/G,MAAO,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MApCdhF,EAuClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KAzCRC,EA2ClBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BO,EAAgBkB,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MAvDdnB,EAyDlBkI,WAAa,WACXlI,EAAKW,MAAMkB,QAAQoG,KAAK,cAxDxBjI,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACNI,eAAgB,EAChB0C,SAAQ,GAPM7F,mFA6DE,IAAAgB,EAAAnD,KAElBA,KAAKsJ,gBAELzC,EAAgBqE,cAAclL,KAAK8C,MAAMyH,MAAMC,OAAOrF,IACrDtE,KAAK,SAACqF,GACL,IAAMiF,EAAoBjF,EAC1B/C,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkBqL,MAEnB9H,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAIrB,IAAAxD,EAAA3D,KACP,OACEoC,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBAEjB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACrBtE,EAAAC,EAAAC,cAAA,8BACEF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKqK,YAA7C,KACFjI,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAC9E9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAA0FF,UAAU,sBAAqBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,UAErB3C,EAAAC,EAAAC,cAAA,6BAKFF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMgC,KAClBgE,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMiC,KAClB+D,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,6CACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,SACLD,KAAK,iBACL/C,MAAOlC,KAAKiD,MAAMqC,eAClB2D,SAAUjJ,KAAKoH,eAGfpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,gBAAgBiH,UAAQ,EAACjF,UAAU,yBACrF9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,gBAAgBgC,UAAU,yBAErD9B,EAAAC,EAAAC,cAAA,SAAO+B,QAAS,kBAAMV,EAAKsH,mBAAmB/F,KAAK,SAAShD,MAAM,SAASgC,UAAU,gCA9HhDnB,aCsChCqI,EAFE,eApCf,SAAAC,IAAevL,OAAAC,EAAA,EAAAD,CAAAE,KAAAqL,GACbrL,KAAKsL,SAAWrL,IAAMC,OAAO,CAC3BC,QAASC,gCACTC,iBAAiB,8DAMnB,OAAOL,KAAKsL,SACTpK,IAAI,iBACJL,KAAK,SAAAC,GAAA,OAAAA,EAAGC,8CAGEuK,GACb,OAAOtL,KAAKsL,SACT7F,IADI,uBACwB6F,GAC5BzK,KAAK,SAAAG,GAAA,OAAAA,EAAGD,4CAIAuK,GACX,OAAOtL,KAAKsL,SACT7F,IADI,8BAC+B6F,GACnCzK,KAAK,SAAA8E,GAAA,OAAAA,EAAG5E,2CAIDuF,GACV,OAAOtG,KAAKsL,SACX1K,KAAK,sBAAuB0F,GAC5BzF,KAAK,SAAAgF,GAAA,OAAAA,EAAE9E,oECuDGwK,cAhFb,SAAAA,EAAYzI,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuL,IAChBpJ,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAyL,GAAA9E,KAAAzG,KAAM8C,KASR4D,iBAAmB,SAAAC,GACbA,EAAMC,iBADgB,IAEd4E,EAAYrJ,EAAKc,MAAjBuI,QAERC,EAAgBC,aAAa,CAACF,YAC7B3K,KAAK,SAAC8K,GACL,IAAMC,EAAeD,EAAOL,SAASE,QAErCrJ,EAAKiB,SAAS,CAAE2D,WAAY5E,EAAKc,MAAM8D,UAAWyE,QAAQI,IAE1DzJ,EAAKW,MAAM+I,cAAcD,KAE1BvI,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MAtBhBhF,EA0BdiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KA5BZC,EA+BlBqF,YAAc,WACZrF,EAAKiB,SAAS,CAAE2D,WAAY5E,EAAKc,MAAM8D,aA9BvC5E,EAAKc,MAAQ,CACXuI,QAAS,EACTzE,WAAW,GAJG5E,wEAoChB,OACEC,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,yBAEXlE,KAAKiD,MAAM8D,UACb3E,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,iBAAkBxC,UAAU,eACjD9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKwH,aAA7C,KACEpF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,SACLD,KAAK,UACL/C,MAAOlC,KAAKiD,MAAMuI,QAClBvC,SAAUjJ,KAAKoH,aACf0E,IAAI,MAEN1J,EAAAC,EAAAC,cAAA,UAAQ4C,KAAK,SAAShD,MAAM,aAAQgC,UAAU,uCAC7C9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,oEAAoEY,IAAI,GAAGd,UAAU,WAAU9B,EAAAC,EAAAC,cAAA,uBAI3G,KAEAF,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,aACNxH,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,OAAK8B,IAAK2H,IAAa/G,IAAI,OAG7B5C,EAAAC,EAAAC,cAAA,UAAQ+B,QAASrE,KAAKwH,YAAatD,UAAU,iBAC5C9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAK4H,IAAWhH,IAAI,KACxB5C,EAAAC,EAAAC,cAAA,SAAItC,KAAK8C,MAAM0I,QAAf,YAEJpJ,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,eACNxH,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,OAAK8B,IAAK6H,IAAUjH,IAAI,eAtETjC,aCJNmJ,cACnB,SAAAA,EAAYpJ,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkM,IAChB/J,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAoM,GAAAzF,KAAAzG,KAAM8C,KAYR4D,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEa1B,EAAKc,MAApC1C,EAFkBsD,EAElBtD,SAAUG,EAFQmD,EAERnD,SAAUqE,EAFFlB,EAEEkB,OAE5B0G,EAAgBU,eAAgB,CAAE5L,WAAUG,WAASqE,WACpDlE,KAAK,SAACyK,GACL7H,QAAQC,IAAI4H,GACZnJ,EAAKiB,SAAS,CACZ2B,OAAQuG,EAASvG,OACjBgC,WAAU,IAGEnC,SAASoC,cAAc,aAC7BC,MAAMC,QAAU,SAGzB7D,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA7BZhF,EAiClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KAnCRC,EAqClBqF,YAAc,WACZrF,EAAKiB,SAAS,CAAE2D,WAAY5E,EAAKc,MAAM8D,YAEvC,IAAIU,EAAU7C,SAASoC,cAAc,aACR,UAA1BS,EAAQR,MAAMC,QACfO,EAAQR,MAAMC,QAAU,OAExBO,EAAQR,MAAMC,QAAU,SA5CV/E,EAgDlBuF,aAAe,SAACf,GACd,IAAML,EAAOK,EAAMW,OAAOK,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BmF,EAAgB1D,YAAYH,GAC3B/G,KAAK,SAACkE,GACL5C,EAAKiB,SAAS,CACZ2B,SACAiD,SAAS,MAGZ3E,MAAM,SAACC,GAAD,OAAWG,QAAQC,IAAIJ,MA5DdnB,EA8DlB8E,MAAO,WAYL,MAVY,CACZgB,MAAS,QACTC,WAAc,UACdC,aAAc,MACdC,MAAO,OACPC,OAAO,OACPnB,QAAS,eACToB,UAAW,SACXC,WAAY,SAtEZpG,EAAKc,MAAQ,CACX1C,SAAS,GACTwE,OAAO,GACPrE,SAAS,GACT8K,QAAQ,GACR/C,mBAAmB,EACnB1B,WAAW,EACXiB,SAAS,GATK7F,mFA4EE,IAAAgB,EAAAnD,KAElByL,EAAgBW,cACfvL,KAAK,SAACyK,GACL7H,QAAQC,IAAI4H,GACZ,IAAMe,EAAmBf,EACzBnI,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,CAAe2I,mBAAqB4D,EAAiBC,eAAexD,QAAUuD,MAE7EhJ,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAGvB,IAAAoF,EAC2DvM,KAAKiD,MAAhE1C,EADAgM,EACAhM,SAAUwE,EADVwH,EACUxH,OAAQrE,EADlB6L,EACkB7L,SAAmB+H,GADrC8D,EAC4Bf,QAD5Be,EACqC9D,oBAC5C,OACErG,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,sBAEf9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,yBACX9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,4EAA4EC,QAASrE,KAAKwH,YAAatD,UAAU,gBAC1H9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKW,EAAQC,IAAKzE,KAEzB6B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,8BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,UAAK/B,GACL6B,EAAAC,EAAAC,cAAA,KAAG2E,MAAO,CAACgB,MAAM,YAAavH,IAEhC0B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,sBACf9B,EAAAC,EAAAC,cAAA,qBAAYF,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUjH,KAAK8C,MAAM0I,UACnDpJ,EAAAC,EAAAC,cAAA,wBAAeF,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUwB,OAM7CzI,KAAKiD,MAAM8D,UACb3E,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,iBAAkBxC,UAAU,mBACjD9B,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKwH,aAA7C,KACEpF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBAEf9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,OAAOE,GAAG,OAAO8D,SAAUjJ,KAAK0H,aAAcxD,UAAU,cAChF9B,EAAAC,EAAAC,cAAA,SAAO4G,QAAQ,QACblJ,KAAKiD,MAAM+E,QACb5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KAAE/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBAChB9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,0FAAyFF,UAAU,sBAAsBc,IAAI,MAErI5C,EAAAC,EAAAC,cAAA,8BAGFF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8B,SAAA,KACA/B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKW,KAEV3C,EAAAC,EAAAC,cAAA,8BAOFF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAO3B,EACP0I,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAOxB,EACPuI,SAAUjJ,KAAKoH,eAEhBpH,KAAKiD,MAAM+E,QAAU5F,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUiH,UAAQ,EAACjF,UAAU,yBAAyB9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUgC,UAAU,0BAGxJ,aA1JkCnB,aCDrBsC,mLAEjB,OACEjD,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,eACjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMyC,SAASR,OAAQC,IAAKhF,KAAK8C,MAAMyC,SAASN,QAEjE7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,YAAajI,KAAK8C,MAAMyC,SAAShF,UACnD6B,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMyC,SAAS7E,UACzB0B,EAAAC,EAAAC,cAAA,0BAAkBtC,KAAK8C,MAAM0J,kBAXEzJ,aCiF5BxB,+MA1Eb0B,MAAQ,CACN1C,SAAY,GACZE,MAAS,GACTsE,OAAU,GACVrE,SAAY,GACZ8K,QAAW,EACXc,eAAkB,KAClB3L,SAAY,WACZ8L,SAAQ,EACRhE,mBAAoB,KAEtBa,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,+BAGxBmC,cAAgB,SAACa,GACfvK,EAAKiB,SAAS,CAACoI,QAAUkB,wFAGP,IAAAvJ,EAAAnD,KAElBA,KAAKsJ,gBAELmC,EAAgBW,cACfvL,KAAK,SAACyK,GAEL,IAAMe,EAAmBf,EACzBnI,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkBuM,EAAlB,CAAoCI,SAAQ,EAAOhE,mBAAmB6C,EAASgB,eAAexD,YAE7FzF,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAGvB,IAAAtD,EAE+B7D,KAAKiD,MAAlCqJ,EAFFzI,EAEEyI,eAAiBG,EAFnB5I,EAEmB4I,QAC1B,OACErK,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAACqK,EAAD7M,OAAA0C,OAAA,GAAkBxC,KAAKiD,MAAvB,CAA8B4I,cAAe7L,KAAK6L,iBAClDzJ,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,iBACduI,EACiC,KAAlCrK,EAAAC,EAAAC,cAACsK,EAAiB5M,KAAKiD,OAGvBb,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BAKlBoI,EAEDA,EAAetC,IAAI,SAACzE,GACpB,OACEnD,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,eAAAlE,OAAiBH,EAASA,SAASd,KAAOxC,IAAKsD,EAASA,SAASd,IAAKP,UAAU,oBACtF9B,EAAAC,EAAAC,cAACuK,EAAkBtH,MAKvBnD,EAAAC,EAAAC,cAAA,gDAlEaS,cCNF+J,6MACnB7F,MAAO,WAYT,MAVgB,CACZgB,MAAS,QACTC,WAAc,UACdC,aAAc,MACdC,MAAO,OACPC,OAAO,OACPnB,QAAS,eACToB,UAAW,SACXC,WAAY,iFAIZ,OACEnG,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,eACjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMiC,OAAQC,IAAKhF,KAAK8C,MAAMvC,YAE/C6B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,YAAajI,KAAK8C,MAAMvC,UAC1C6B,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMpC,UAChB0B,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUjH,KAAK8C,MAAMiG,WAAWD,QAArD,0BAxBqC/F,aCmDlCgG,EAFI,eAhDjB,SAAAgE,IAAejN,OAAAC,EAAA,EAAAD,CAAAE,KAAA+M,GACb/M,KAAK+I,WAAa9I,IAAMC,OAAO,CAC7BC,QAASC,gCACTC,iBAAiB,gEAMnB,OAAOL,KAAK+I,WACT7H,IAAI,mBACJL,KAAK,SAAAC,GAAA,OAAAA,EAAGC,6CAGCoE,GACZ,OAAOnF,KAAK+I,WACT7H,IADI,mBAAAwE,OACmBP,IACvBtE,KAAK,SAAAG,GAAA,OAAAA,EAAGD,oDAKQiM,EAAS7H,GAC5B,OAAOnF,KAAK+I,WACT7H,IADI,mBAAAwE,OACmBP,EADnB,aAAAO,OACiCsH,IACrCnM,KAAK,SAAA8E,GAAA,OAAAA,EAAG5E,+CAEG6E,EAAOoH,EAAS7H,GAC9B,OAAOnF,KAAK+I,WACTtD,IADI,mBAAAC,OACmBP,EADnB,aAAAO,OACiCsH,EADjC,SACkDpH,GACtD/E,KAAK,SAAAgF,GAAA,OAAAA,EAAG9E,mDAKOkM,EAAY9H,GAC9B,OAAOnF,KAAK+I,WACT7H,IADI,mBAAAwE,OACmBP,EADnB,gBAAAO,OACoCuH,IACxCpM,KAAK,SAAAiF,GAAA,OAAAA,EAAG/E,8CAGEkM,EAAY9H,GACzB,OAAOnF,KAAK+I,WACTtD,IADI,mBAAAC,OACmBP,EADnB,gBAAAO,OACoCuH,EADpC,UAEJpM,KAAK,SAAAmF,GAAA,OAAAA,EAAGjF,iBC8BAQ,+MApEb0B,MAAQ,CACNiK,cAAe,KACfvM,SAAY,WACZ6K,QAAQ,KAEVlC,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,yBACtBH,EAAKC,UAAUE,OAAO,+BAExBmC,cAAgB,SAACa,GACfvK,EAAKiB,SAAS,CAACoI,QAAUkB,wFAGP,IAAAvJ,EAAAnD,KAElBA,KAAKsJ,gBAEL6D,EAAkBC,gBACjBvM,KAAK,SAACkI,GACL0C,EAAgBW,cACfvL,KAAK,SAACyK,GACL,IAAM+B,EAAqBtE,EAC3B5F,EAAKC,SAAS,CAAC8J,cAAcG,EAAoB7B,QAASF,EAASE,YAClEnI,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,OAC7B9D,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAGvB,IAEA+F,EAAiBlN,KAAKiD,MAAtBiK,cAEP,OACE9K,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAACqK,EAAD7M,OAAA0C,OAAA,GAAmBxC,KAAKiD,MAAxB,CAA+B4I,cAAe7L,KAAK6L,iBACnDzJ,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,mBAEf9B,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACqB,UAAU,WAAtB,gBAGAlG,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,4BAAf,OAKHgJ,EAEDA,EAAclD,IAAI,SAAC9D,GAAD,OAEhB9D,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,eAAAlE,OAAiBQ,EAAUzB,KAAOxC,IAAKiE,EAAUzB,IAAKP,UAAU,oBACtE9B,EAAAC,EAAAC,cAACgL,EAAwBpH,MAI7B9D,EAAAC,EAAAC,cAAA,8CA5DeS,cCNJwK,qNACnBhJ,aAAe,WAEb,IAAMC,EAAkBrC,EAAKW,MAAM2B,IAAKC,WAElCC,EAASC,SAASC,eAAeL,GAEd,IAAtBrC,EAAKW,MAAM6B,OACZA,EAAOG,UAAP,qEAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,2EAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,iFAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,uFAC6B,IAAtB3C,EAAKW,MAAM6B,OAClBA,EAAOG,UAAP,6FAC6B,IAAtB3C,EAAKW,MAAM6B,SAClBA,EAAOG,UAAP,oHAIF9E,KAAKuE,gDAGL,OACEnC,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,eACjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMiC,OAAQC,IAAKhF,KAAK8C,MAAMmC,QAE/C7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,oBACb9B,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,YAAajI,KAAK8C,MAAMmC,MAC1C7C,EAAAC,EAAAC,cAAA,UAAKtC,KAAK8C,MAAMoC,MAChB9C,EAAAC,EAAAC,cAAA,KAAG6C,GAAInF,KAAK8C,MAAM2B,gBAlCmB1B,cCA5ByK,8MAEnBC,cAAgB,SAACC,GAEf,IAAMC,EAAYC,KAAKC,MAAO1L,EAAKW,MAAMwC,eAAiBnD,EAAKW,MAAMgL,YAAa,KAC9EC,GAAaJ,EAAU,IAAIjJ,WAAY,IAEvCsJ,GAAY,EAQhB,OANA7L,EAAKW,MAAMmL,OAAOjE,IAAI,SAACkE,GACrB,GAAGA,IAAS/L,EAAKW,MAAMqL,WAErB,OAAOH,GAAY,IAGpB7L,EAAKW,MAAMsL,WAAajM,EAAKW,MAAMwC,eACjCqI,GAAa,GAEP,CACPU,KAAM,MACNC,SAAS,WACTC,cAAc,OACdrG,WAAY,qBACZC,aAAc,sBACdqG,QAAQ,QAGD,CACLH,KAAMN,EACNO,SAAS,WACTC,cAAc,OACdrG,WAAY,qBACZC,aAAc,sBACdqG,QAAQ,QAITR,EACM,CACLK,KAAMN,EACNO,SAAS,WACTC,cAAc,OACdrG,WAAY,qBACZC,aAAc,sBACdqG,QAAQ,QAGTb,GAAa,GACP,CACPU,KAAM,MACNC,SAAS,WACTpG,WAAY,qBACZC,aAAc,sBACdqG,QAAQ,QAGD,CACLH,KAAMN,EACNO,SAAS,WACTpG,WAAY,qBACZC,aAAc,sBACdqG,QAAQ,WAKhBC,YAAc,WACZ,IAAMjK,EAAkBrC,EAAKW,MAAM2B,IAAKC,WAClCgJ,EAAU9I,SAASC,eAAeL,GACpCwJ,GAAY,EAQhB,GANA7L,EAAKW,MAAMmL,OAAOjE,IAAI,SAACkE,GACrB,GAAGA,IAAS/L,EAAKW,MAAMqL,WAErB,OAAOH,GAAY,IAGpB7L,EAAKW,MAAMsL,WAAajM,EAAKW,MAAMwC,iBAAmB0I,EAEvD,OADAvK,QAAQC,IAAI,SAASsK,GACdN,EAAQlE,UAAUC,IAAI,SACtBuE,IACPN,EAAQlE,UAAUE,OAAO,SACzBgE,EAAQlE,UAAUC,IAAI,6FAKxBzJ,KAAKyN,gBACLzN,KAAKyO,+CAIL,OACErM,EAAAC,EAAAC,cAAA,OAAK2E,MAAOjH,KAAKyN,iBACbrL,EAAAC,EAAAC,cAAA,SAAItC,KAAK8C,MAAMmC,MACjB7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,kBAAkBiB,GAAInF,KAAK8C,MAAM2B,KAC9CrC,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAK8C,MAAMiC,OAAQC,IAAKhF,KAAK8C,MAAMmC,KAAMf,UAAU,eAE/D9B,EAAAC,EAAAC,cAAA,KAAG2E,MAAO,CAACqB,UAAU,WAAYtI,KAAK8C,MAAMwC,gBAC5ClD,EAAAC,EAAAC,cAAA,KAAG2E,MAAO,CAACqB,UAAU,WAArB,kBAnG2CvF,aCO9B2L,eAEnB,SAAAA,EAAY5L,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0O,IAChBvM,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAA4O,GAAAjI,KAAAzG,KAAM8C,KAeRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,6BApBNvH,EAuBlBwM,YAAc,SAACpJ,GAAa,IACnBwD,EAAcxD,EAAdwD,WAEH6F,EAAoB,EAOxB,OANA7F,EAAWiB,IAAI,SAAC9D,GAEX0I,GAAqB1I,EAAUZ,iBAChCsJ,EAAoB1I,EAAUZ,kBAG3BsJ,GAjCSzM,EAmClB0J,cAAgB,SAACa,GACfvK,EAAKiB,SAAS,CAACoI,QAAUkB,KApCTvK,EAuClB0M,kBAAoB,WAEEjK,SAASoC,cAAc,wBAC/BC,MAAMmB,MAAQjG,EAAKc,MAAM6L,aAxCrC3M,EAAKc,MAAQ,CACX1C,SAAS,GACTE,MAAO,GACPsE,OAAQ,GACRrE,SAAU,GACVqI,WAAY,GACZF,QAAS,GACTiF,YAAY,EACZM,WAAW,EACX5C,QAAQ,EACRsD,YAAY,GACZX,WAAW,IAbGhM,mFA+CE,IAAAgB,EAAAnD,KAClBA,KAAKsJ,gBAEL6D,EAAkBjC,cAAclL,KAAK8C,MAAMyH,MAAMC,OAAOrF,IACvDtE,KAAK,SAAC0E,GACLkG,EAAgBW,cACfvL,KAAK,SAACyK,GACL,IAAMwC,EAAc3K,EAAKwL,YAAYpJ,GACjC6I,EAAa,EAEjB9C,EAASgB,eAAetC,IAAI,SAAC9D,GAG3B,GAAGA,EAAUX,SAASd,MAAQc,EAASd,IAErC,OADA2J,EAAalI,EAAUsG,SAK3B,IAAIpE,EAASwF,KAAKC,MAAOO,EAAaN,EAAa,KAAMpJ,WAAa,IACtEvB,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkByF,EAAlB,CAA4BuI,cAAaM,aAAY5C,QAAQF,EAASE,QAAQsD,YAAY1G,EAAO+F,WAAW7C,EAAS7G,OAErHtB,EAAK0L,sBAEJxL,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,OAG/B9D,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAKrB,IAAAxD,EAAA3D,KAAA6D,EACmF7D,KAAKiD,MAAxF1C,EADAsD,EACAtD,SAASwE,EADTlB,EACSkB,OAAOrE,EADhBmD,EACgBnD,SAAUqI,EAD1BlF,EAC0BkF,WAAWF,EADrChF,EACqCgF,QAASiF,EAD9CjK,EAC8CiK,YAAYM,EAD1DvK,EAC0DuK,WAAWD,EADrEtK,EACqEsK,WAE5E,OACE/L,EAAAC,EAAAC,cAAA,eACAF,EAAAC,EAAAC,cAACqK,EAAD7M,OAAA0C,OAAA,GAAkBxC,KAAKiD,MAAvB,CAA8B4I,cAAe7L,KAAK6L,iBAClDzJ,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,sBAEjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,8BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,0BACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKW,EAAQC,IAAKzE,KAEzB6B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,2BACb9B,EAAAC,EAAAC,cAAA,UAAK/B,GACL6B,EAAAC,EAAAC,cAAA,UAAK5B,GACP0B,EAAAC,EAAAC,cAAA,OAAK8B,IAAI,sDAAsDC,QAASrE,KAAKwH,YAAatD,UAAU,iCAKtG9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,sBACf9B,EAAAC,EAAAC,cAAA,qCAGEyG,EAAWiB,IAAI,SAAC9D,GAAD,OACb9D,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAM1H,IAAKiE,EAAUzB,IAAKmF,GAAE,eAAAlE,OAAiB/B,EAAKb,MAAMyH,MAAMC,OAAOrF,GAAzC,gBAAAO,OAA0DQ,EAAUzB,KAAOP,UAAU,2BAC/G9B,EAAAC,EAAAC,cAACyM,GAADjP,OAAA0C,OAAA,GAA2B0D,EAA3B,CAAsC4H,YAAaA,EAAaM,WAAYA,EAAYD,WAAYA,QAKxG/L,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACf9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,gCAKjB9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,+BACb9B,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,4BAAf,OAKJ2E,EAAQmB,IAAI,SAACpE,GAAD,OACVxD,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAE,eAAAlE,OAAiB/B,EAAKb,MAAMyH,MAAMC,OAAOrF,GAAzC,aAAAO,OAAuDE,EAAOnB,IAA9D,KAAsExC,IAAK2D,EAAOnB,IAAKP,UAAU,oBACvG9B,EAAAC,EAAAC,cAAC0M,GAAyBpJ,eAjIO7C,aCL1BkM,eACnB,SAAAA,EAAYnM,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiP,IAChB9M,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAAmP,GAAAxI,KAAAzG,KAAM8C,KAaRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,6BAlBNvH,EAqBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAED1B,EAAKc,MAAtBiM,EAFkBrL,EAElBqL,SAAU/J,EAFQtB,EAERsB,GAFQoH,EAGFpK,EAAKc,MAArBmC,EAHkBmH,EAGlBnH,KAAKT,EAHa4H,EAGb5H,OACP6H,EAAc,IAALpH,EAEf+H,EAAkBgC,gBAAgB,CAAE/J,OAAKT,SAAQ6H,UAAU0C,EAAU/J,GACpEtE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQD,WAEpBV,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA/BZhF,EAkClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MAEdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KArCRC,EAuClBkI,WAAa,WACXlI,EAAKW,MAAMkB,QAAQoG,KAAnB,eAAA1E,OAAuCvD,EAAKc,MAAMkC,MAxClChD,EA0ClB8E,MAAO,WAYT,MAVgB,CACZgB,MAAS,QACTC,WAAc,UACdC,aAAc,MACdC,MAAO,OACPC,OAAO,OACPnB,QAAS,eACToB,UAAW,SACXC,WAAY,SAjDZpG,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACNP,OAAQ,EACRS,KAAM,EACN8J,SAAS/M,EAAKW,MAAMyH,MAAMC,OAAO0E,SACjC/J,GAAGhD,EAAKW,MAAMyH,MAAMC,OAAOrF,GAC3BqG,QAAQ,GAXMrJ,mFAwDC,IAAAgB,EAAAnD,KACjBA,KAAKsJ,gBADY,IAAA8F,EAEOpP,KAAKiD,MAArBiM,EAFSE,EAETF,SAAS/J,EAFAiK,EAEAjK,GAEjBgI,EAAkBkC,qBAAqBH,EAAS/J,GAC/CtE,KAAK,SAAC+E,GAEL6F,EAAgBW,cACfvL,KAAK,SAACyK,GAAa,IAEXvG,EAAsBa,EAAtBb,OAAQE,EAAcW,EAAdX,KAAMC,EAAQU,EAARV,KACrB/B,EAAKC,SAAS,CAAC2B,SAAQE,OAAMC,OAAMsG,QAAQF,EAASE,YAEnDnI,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,OAG/B9D,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAK5B,OADA1D,QAAQC,IAAI1D,KAAKiD,OAEfb,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBAEjB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,iBAAkBxC,UAAU,mBACjD9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,eAAeG,QAASrE,KAAKqK,YAA7C,KACEjI,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACqB,UAAU,WAAtB,OAAsCtI,KAAKiD,MAAMgC,KAAjD,MACA7C,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBAAmB+C,MAAO,CAACoH,KAAK,MAAMiB,UAAU,mBAAmBC,OAAO,SACvFnN,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,WAIvB3C,EAAAC,EAAAC,cAAA,KAAG2E,MAAO,CAACqB,UAAU,WAArB,oBAAiDlG,EAAAC,EAAAC,cAAA,QAAM2E,MAAOjH,KAAKiH,SAAUjH,KAAKiD,MAAMuI,SAAxF,UACApJ,EAAAC,EAAAC,cAAA,SACE4C,KAAK,SACLD,KAAK,OACL/C,MAAOlC,KAAKiD,MAAMmC,KAClB6D,SAAUjJ,KAAKoH,aACfoI,IAAKxP,KAAKiD,MAAMuI,UAGlBpJ,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,kBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,UACf9B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,QAAQD,KAAK,SAAS/C,MAAM,IAAI+G,SAAUjJ,KAAKoH,eAC3DhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,WAEF9B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,QAAQD,KAAK,SAAS/C,MAAM,IAAI+G,SAAUjJ,KAAKoH,eAC3DhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,WAEF9B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,QAAQD,KAAK,SAAS/C,MAAM,IAAI+G,SAAUjJ,KAAKoH,eAC3DhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,WAEF9B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,QAAQD,KAAK,SAAS/C,MAAM,IAAI+G,SAAUjJ,KAAKoH,eAC3DhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,WAEF9B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,QAAQD,KAAK,SAAS/C,MAAM,IAAI+G,SAAUjJ,KAAKoH,eAC3DhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,UACA9B,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,QAAhB,aAIJ9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,QAAQgC,UAAU,mDAvIFnB,aCAhC0M,eACnB,SAAAA,EAAY3M,GAAM,IAAAX,EAAA,OAAArC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyP,IAChBtN,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAE,KAAAF,OAAA8B,EAAA,EAAA9B,CAAA2P,GAAAhJ,KAAAzG,KAAM8C,KAaRwG,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,qBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,6BAlBNvH,EAqBlBuE,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEJ1B,EAAKc,MAApByM,EAFmB7L,EAEnB6L,QAASvK,EAFUtB,EAEVsB,GAEhBgI,EAAkBwC,eAAeD,EAAQvK,GACxCtE,KAAK,WACJsB,EAAKW,MAAMkB,QAAQD,WAEpBV,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,MA7BZhF,EAiClBiF,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,KAhCxBC,EAAKc,MAAQ,CACX8B,OAAO,GACPE,KAAO,GACPC,KAAM,GACNP,OAAQ,EACRS,KAAM,EACNsK,QAAQvN,EAAKW,MAAMyH,MAAMC,OAAOkF,QAChCvK,GAAGhD,EAAKW,MAAMyH,MAAMC,OAAOrF,IAVbhD,mFAsCC,IAAAgB,EAAAnD,KACjBA,KAAKsJ,gBADY,IAAAiD,EAEKvM,KAAKiD,MAApByM,EAFUnD,EAEVmD,QAASvK,EAFCoH,EAEDpH,GAEhBgI,EAAkByC,oBAAoBF,EAAQvK,GAC7CtE,KAAK,SAACqF,GACL,IAAMiF,EAAoBjF,EAC1B/C,EAAKC,SAALtD,OAAA8I,EAAA,EAAA9I,CAAA,GAAkBqL,MAEnB9H,MAAM,SAAC8D,GAAD,OAAS1D,QAAQC,IAAIyD,sCAI5B,OACE/E,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBAEjB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACrBtE,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,yBACb9B,EAAAC,EAAAC,cAAA,UAAKtC,KAAKiD,MAAMgC,MAChB7C,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBAAmB+C,MAAO,CAACoH,KAAK,MAAMiB,UAAU,mBAAmBC,OAAO,SACxFnN,EAAAC,EAAAC,cAAA,OAAK8B,IAAKpE,KAAKiD,MAAM8B,OAAQC,IAAI,OAGhC5C,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,aAAagC,UAAU,mDA9DdnB,iCC0FjCxB,uNAvFb+H,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,yBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,+BAExBmG,QAAU,SAACC,GACT,IAAIC,EAASnL,SAASC,eAAe,WACrC,GAAIkL,EAEA,OADAA,EAAOC,WAAWC,YAAYF,IACvB,EAGX,IAAIG,EAAUtL,SAASoC,cAAc8I,GACjCK,EAASvL,SAAStC,cAAc,UAChC8N,EAAMD,EAAOE,WAAW,MACxBC,GAAU,EAEdH,EAAO/H,MAAQmI,OAAOC,WACtBL,EAAO9H,OAASkI,OAAOE,YACvBN,EAAOhL,GAAK,UAEZ,IAAIuL,EAAO,IAAIC,MACfD,EAAKtM,IAAM,kCAEXsM,EAAKE,OAAS,WACVV,EAAQW,YAAYV,GACpBG,GAAU,EACVQ,KAEJ,IAAIC,EAAQ,GAEZ,SAASD,IACDR,GACAU,sBAAsBF,GAG1BV,EAAIa,UAAU,EAAG,EAAGd,EAAO/H,MAAO+H,EAAO9H,QAErCuF,KAAKsD,SAAW,IAChBH,EAAM3G,KAAK,CACP+G,EAAGvD,KAAKsD,SAAWf,EAAO/H,MAAQ,EAClCgJ,GAAI,GACJC,GAAI,EACJC,EAAG,GAAM1D,KAAKsD,SACdjO,MAAuB,GAAhB2K,KAAKsD,SAAgB,IAIpC,IADA,IAAIK,EAAIR,EAAMjI,OACPyI,KAAK,CACR,IAAIJ,EAAIJ,EAAMQ,GAAGJ,EACbC,EAAIL,EAAMQ,GAAGH,EACbE,EAAIP,EAAMQ,GAAGD,EACbrO,EAAQ8N,EAAMQ,GAAGtO,MACrB8N,EAAMQ,GAAGtO,MAASA,EAAQ,EAAK,EAAIA,EAAQ,GAC3C8N,EAAMQ,GAAGF,IAAM,GACfN,EAAMQ,GAAGH,GAAKL,EAAMQ,GAAGF,GAEvBjB,EAAIoB,UAAUd,EAAM,GAAK9C,KAAKC,MAAM5K,GAAQ,EAAG,GAAI,GAAIkO,EAAGC,EAAG,GAAKE,EAAG,GAAKA,GAEtEF,EAAIjB,EAAO9H,QACX0I,EAAMU,OAAOF,EAAG,yFAO5BvR,KAAKsJ,gBACLtJ,KAAK6P,QAAQ,yCAGb,OACEzN,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,qBACb9B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKsN,KAAM1M,IAAI,KACpB5C,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,QAAQK,UAAU,SAASqJ,WAAY,MAAMpJ,WAAW,QAA1E,kBAAiGnG,EAAAC,EAAAC,cAAA,WAAjG,IAAuGF,EAAAC,EAAAC,cAAA,QAAM2E,MAAO,CAACgB,MAAM,UAAU2J,WAAW,QAAzC,WAA+DxP,EAAAC,EAAAC,cAAA,WAAtK,eAEFF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,uBACb9B,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAG,WAAUxH,EAAAC,EAAAC,cAAA,UAAQ4B,UAAU,sBAAlB,YACnB9B,EAAAC,EAAAC,cAAA,KAAG4B,UAAU,yBAAb,2BAA6D9B,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAG,UAAT,oBAjFpD7G,mCCgJJxB,gNA7Ib0B,MAAQ,CACN1C,SAAY,GACZC,SAAY,GACZC,MAAS,GACTC,SAAY,GACZC,SAAY,MAEd2I,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,yBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,+BAGxBmI,eAAiB,WACf,IAAMtI,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,4BACnBF,EAAKC,UAAUE,OAAO,+BAExBoI,eAAiB,WACf,IAAMvI,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,4BACnBF,EAAKC,UAAUE,OAAO,+BAGxBhD,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEgC1B,EAAKc,MAAvD1C,EAFkBsD,EAElBtD,SAAUC,EAFQqD,EAERrD,SAAUC,EAFFoD,EAEEpD,MAAOC,EAFTmD,EAESnD,SAAUC,EAFnBkD,EAEmBlD,SAC7CwB,EAAKW,MAAMJ,OAAO,CAAEnC,WAAUC,WAAUC,QAAOC,WAAUC,gBAG3DyG,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,OAG1B6P,aAAc,WACZ,IAAM5B,EAASvL,SAASoC,cAAc,UAClCmJ,IAGFA,EAAOlJ,MAAMC,QAAU,4FAK3BlH,KAAKsJ,gBACLtJ,KAAK+R,gDAGI,IAAAxF,EACyCvM,KAAKiD,MAA7C1C,EADDgM,EACChM,SAAUC,EADX+L,EACW/L,SAAUC,EADrB8L,EACqB9L,MAAOC,EAD5B6L,EAC4B7L,SAEnC,OACE0B,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBACjB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACnBtE,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,iBAEb9B,EAAAC,EAAAC,cAAA,SAAO4B,UAAU,iBACjB9B,EAAAC,EAAAC,cAAA,SACE4C,KAAK,QACLD,KAAK,WACL+M,YAAY,WACZ9P,MAAM,WACN+G,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,qBAAqBG,QAASrE,KAAK8R,gBACjD1P,EAAAC,EAAAC,cAAA,OAAK8B,IAAK2H,IAAa/G,IAAI,KAC3B5C,EAAAC,EAAAC,cAAA,+BAGFF,EAAAC,EAAAC,cAAA,SAAO4B,UAAU,iBACjB9B,EAAAC,EAAAC,cAAA,SACE4C,KAAK,QACLD,KAAK,WACL+M,YAAY,WACZ9P,MAAM,WACN+G,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,qBAAqBG,QAASrE,KAAK6R,gBACjDzP,EAAAC,EAAAC,cAAA,OAAK8B,IAAK6N,KAAajN,IAAI,KAC3B5C,EAAAC,EAAAC,cAAA,gCAMsB,KAAxBtC,KAAKiD,MAAMtC,SACXyB,EAAAC,EAAAC,cAAA,WACwB,aAAxBtC,KAAKiD,MAAMtC,SAA0ByB,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,YAAlB,qCAAsE7F,EAAAC,EAAAC,cAAA,MAAI2E,MAAO,CAACgB,MAAM,YAAlB,mCACnF,aAAxBjI,KAAKiD,MAAMtC,SAA0ByB,EAAAC,EAAAC,cAAA,+BAAgCF,EAAAC,EAAAC,cAAA,+BAEvEF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAO3B,EACP0I,SAAUjJ,KAAKoH,aACf8K,UAAQ,IAEV9P,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,QACL/C,MAAOzB,EACPwI,SAAUjJ,KAAKoH,aACf8K,UAAQ,IAEV9P,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAOxB,EACPuI,SAAUjJ,KAAKoH,aACf8K,UAAQ,IAEV9P,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,WACLD,KAAK,WACL/C,MAAO1B,EAEPyI,SAAUjJ,KAAKoH,aACf8K,UAAQ,IACkB,aAAxBlS,KAAKiD,MAAMtC,SAA0ByB,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUgC,UAAU,yBAA2B9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,UAAUgC,UAAU,0BAIlK,MAGF9B,EAAAC,EAAAC,cAAA,KAAG4B,UAAU,yBAAb,wBAEE9B,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAI,UAAV,kBAvIW7G,cCkHNxB,gNAnHb0B,MAAQ,CACN1C,SAAU,GACVC,SAAU,GACVG,SAAY,MAGd2I,cAAe,WACb,IAAMC,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,yBACnBF,EAAKC,UAAUE,OAAO,4BACtBH,EAAKC,UAAUE,OAAO,+BAExBmI,eAAiB,WACf,IAAMtI,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,4BACnBF,EAAKC,UAAUE,OAAO,+BAExBoI,eAAiB,WACf,IAAMvI,EAAO3E,SAASoC,cAAc,QACpCuC,EAAKC,UAAUC,IAAI,4BACnBF,EAAKC,UAAUE,OAAO,+BAGxBhD,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAAA/C,EAEe1B,EAAKc,MAAtC1C,EAFkBsD,EAElBtD,SAAUC,EAFQqD,EAERrD,SAAUG,EAFFkD,EAEElD,SAC5BwB,EAAKW,MAAML,MAAM,CAAElC,WAAUC,WAAUG,gBAGzCyG,aAAe,SAAAT,GAAS,IAAAU,EACEV,EAAMW,OAAtBrC,EADcoC,EACdpC,KAAM/C,EADQmF,EACRnF,MACdC,EAAKiB,SAALtD,OAAAyH,EAAA,EAAAzH,CAAA,GAAiBmF,EAAO/C,OAE1B6P,aAAc,WACZ,IAAM5B,EAASvL,SAASoC,cAAc,UAClCmJ,IAGFA,EAAOlJ,MAAMC,QAAU,4FAK3BlH,KAAKsJ,gBACLtJ,KAAK+R,gDAEI,IAAAxF,EACwBvM,KAAKiD,MAA5B1C,EADDgM,EACChM,SAAUC,EADX+L,EACW/L,SAClB,OACE4B,EAAAC,EAAAC,cAAA,WAAS4B,UAAU,kBACnB9B,EAAAC,EAAAC,cAAA,QAAM0G,SAAUhJ,KAAK0G,kBACjBtE,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,iBAEb9B,EAAAC,EAAAC,cAAA,SAAO4B,UAAU,iBACjB9B,EAAAC,EAAAC,cAAA,SACE4C,KAAK,QACLD,KAAK,WACL+M,YAAY,WACZ9P,MAAM,WACN+G,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,qBAAqBG,QAASrE,KAAK8R,gBACjD1P,EAAAC,EAAAC,cAAA,OAAK8B,IAAK2H,IAAa/G,IAAI,KAC3B5C,EAAAC,EAAAC,cAAA,+BAGFF,EAAAC,EAAAC,cAAA,SAAO4B,UAAU,iBACjB9B,EAAAC,EAAAC,cAAA,SACE4C,KAAK,QACLD,KAAK,WACL+M,YAAY,WACZ9P,MAAM,WACN+G,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,QAAM4B,UAAU,qBAAqBG,QAASrE,KAAK6R,gBACjDzP,EAAAC,EAAAC,cAAA,OAAK8B,IAAK6N,KAAajN,IAAI,KAC3B5C,EAAAC,EAAAC,cAAA,gCAKsB,KAAxBtC,KAAKiD,MAAMtC,SACXyB,EAAAC,EAAAC,cAAA,WAEwB,aAAxBtC,KAAKiD,MAAMtC,SAA0ByB,EAAAC,EAAAC,cAAA,+BAAgCF,EAAAC,EAAAC,cAAA,+BACzEF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,OACLD,KAAK,WACL/C,MAAO3B,EACP0I,SAAUjJ,KAAKoH,eAEjBhF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SACE4C,KAAK,WACLD,KAAK,WACL/C,MAAO1B,EACPyI,SAAUjJ,KAAKoH,eAES,aAAxBpH,KAAKiD,MAAMtC,SAA0ByB,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,SAASgC,UAAU,yBAA2B9B,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,SAAShD,MAAM,SAASgC,UAAU,0BAG5J,MAGJ9B,EAAAC,EAAAC,cAAA,KAAG4B,UAAU,yBAAb,yBAEI9B,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMC,GAAI,WAAV,oBA7GU7G,gCCgBLxB,SAlBf,SAAAT,GAA+F,IAApDiC,EAAoDjC,EAA/DqR,UAAsBvP,EAAyC9B,EAAzC8B,WAAWC,EAA8B/B,EAA9B+B,kBAAsBuP,EAAQtS,OAAAuS,GAAA,EAAAvS,CAAAgB,EAAA,gDAE7F,OACEsB,EAAAC,EAAAC,cAACgQ,EAAA,EAADxS,OAAA0C,OAAA,GACM4P,EADN,CAEEG,OAAQ,SAAAzP,GACL,OAAIF,EAEMA,GAAcC,EACfT,EAAAC,EAAAC,cAACS,EAAcD,GAEfV,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,cAJbxH,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,iBCUhBrI,SAjBf,SAAAT,GAA+F,IAApDiC,EAAoDjC,EAA/DqR,UAAsBvP,EAAyC9B,EAAzC8B,WAAWC,EAA8B/B,EAA9B+B,kBAAsBuP,EAAQtS,OAAAuS,GAAA,EAAAvS,CAAAgB,EAAA,gDAC7F,OACEsB,EAAAC,EAAAC,cAACgQ,EAAA,EAADxS,OAAA0C,OAAA,GACM4P,EADN,CAEEG,OAAQ,SAAAzP,GACH,OAAIF,EAEIA,IAAeC,EAChBT,EAAAC,EAAAC,cAACS,EAAcD,GAEfV,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,cAJbxH,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,iBCYhBrI,SAlBf,SAAAT,GAAqF,IAArDiC,EAAqDjC,EAAhEqR,UAAsBvP,EAA0C9B,EAA1C8B,WAAYC,EAA8B/B,EAA9B+B,kBAAsBuP,EAAQtS,OAAAuS,GAAA,EAAAvS,CAAAgB,EAAA,gDACnF,OACEsB,EAAAC,EAAAC,cAACgQ,EAAA,EAADxS,OAAA0C,OAAA,GACM4P,EADN,CAEEG,OAAQ,SAAAzP,GACN,OAAIF,EAEOA,GAAcC,EACfT,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,cAEbxH,EAAAC,EAAAC,cAACkQ,GAAA,EAAD,CAAU5I,GAAG,cAJbxH,EAAAC,EAAAC,cAACS,EAAcD,SC2ClB2P,oLA1BX,OACErQ,EAAAC,EAAAC,cAACoQ,EAAD,KACEtQ,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,aACb9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,aACf9B,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,CAAOK,KAAK,IAAIR,UAAWS,IAC3BxQ,EAAAC,EAAAC,cAACuQ,EAAA,EAAD,KACEzQ,EAAAC,EAAAC,cAACwQ,GAAD,CAAWH,KAAK,IAAIR,UAAWY,GAAMC,OAAK,IAC1C5Q,EAAAC,EAAAC,cAACwQ,GAAD,CAAWH,KAAK,UAAUR,UAAWc,GAAQD,OAAK,IAClD5Q,EAAAC,EAAAC,cAACwQ,GAAD,CAAWH,KAAK,SAASR,UAAWe,GAAOF,OAAK,IAChD5Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAsBR,KAAK,YAAYR,UAAWiB,EAAUJ,OAAK,IACjE5Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAsBR,KAAK,wBAAwBR,UAAWhI,EAAmB6I,OAAK,IACtF5Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAsBR,KAAK,wBAAwBR,UAAW7H,EAAgB0I,OAAK,IACnF5Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAsBR,KAAK,2BAA2BR,UAAWkB,EAAuBL,OAAK,IAC7F5Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAsBR,KAAK,2BAA2BR,UAAWpH,EAAmBiI,OAAK,IACzF5Q,EAAAC,EAAAC,cAACgR,GAAD,CAAsBX,KAAK,YAAYR,UAAW/G,EAAU4H,OAAK,IACjE5Q,EAAAC,EAAAC,cAACgR,GAAD,CAAsBX,KAAK,cAAcR,UAAWoB,EAAYP,OAAK,IACrE5Q,EAAAC,EAAAC,cAACgR,GAAD,CAAsBX,KAAK,kBAAkBR,UAAWzD,GAAmBsE,OAAK,IAChF5Q,EAAAC,EAAAC,cAACgR,GAAD,CAAsBX,KAAK,oCAAoCR,UAAWlD,GAAyB+D,OAAK,IACxG5Q,EAAAC,EAAAC,cAACgR,GAAD,CAAsBX,KAAK,sCAAsCR,UAAW1C,GAAoBuD,OAAK,cApB/FjQ,mBCnBlByQ,IAASjB,OACPnQ,EAAAC,EAAAC,cAACmR,EAAA,EAAD,KACErR,EAAAC,EAAAC,cAACoR,GAAD,OAEF9O,SAASC,eAAe","file":"static/js/main.8a25681e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/male.a469d8a7.svg\";","module.exports = __webpack_public_path__ + \"static/media/donut-shop.058a7548.svg\";","module.exports = __webpack_public_path__ + \"static/media/addworker.b76f2aba.svg\";","module.exports = __webpack_public_path__ + \"static/media/addpromo.cf9dfda5.svg\";","module.exports = __webpack_public_path__ + \"static/media/promotion.5871cca3.svg\";","module.exports = __webpack_public_path__ + \"static/media/wallet.f0136d23.svg\";","module.exports = __webpack_public_path__ + \"static/media/tippjar-logo.c2aeb5bf.png\";","module.exports = __webpack_public_path__ + \"static/media/coin.bfbf67b7.png\";","import axios from \"axios\";\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup(user) {\n    const { username, password, email, location, userType } = user;\n    return this.auth\n      .post(\"/auth/signup\", { username, password, email, location, userType })\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password, userType } = user;\n    return this.auth\n      .post(\"/auth/login\", { username, password, userType })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(response => response.data);\n  }\n}\n\nconst auth = new Auth();\n\nexport default auth;\n","import React, { Component } from \"react\";\nimport auth from \"./auth-service\";\nconst { Consumer, Provider } = React.createContext();\n\nexport { Consumer };\n\nexport const withAuth = Comp => {\n  return class WithAuth extends Component {\n    render() {\n      return (\n        <Consumer>\n          {authStore => {\n            return (\n              <Comp\n                login={authStore.login}\n                signup={authStore.signup}\n                user={authStore.user}\n                logout={authStore.logout}\n                isLoggedin={authStore.isLoggedin}\n                isBusinessAccount={authStore.isBusinessAccount}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\nclass AuthProvider extends Component {\n  state = {\n    isLoggedin: false,\n    isBusinessAccount: false,\n    user: null,\n    isLoading: true\n  };\n\n  componentDidMount() {\n    auth\n      .me()\n      .then(user => {\n        if(user.userType === 'business') {\n          this.setState({\n          isLoggedin: true,\n          user,\n          isLoading: false,\n          isBusinessAccount: true,\n          })\n        } else {\n          this.setState({\n            isLoggedin: true,\n            user,\n            isLoading: false\n          });\n        }\n      })\n      .catch(() => {\n        this.setState({\n          isLoggedin: false,\n          user: null,\n          isLoading: false\n        });\n      });\n  }\n\n  signup = user => {\n    const { username, password, email, location, userType } = user;\n    auth\n      .signup({ username, password, email, location, userType })\n      .then(user => {\n        if(user.userType === 'business') {\n          this.setState({\n            isLoggedin: true,\n            user,\n            isBusinessAccount: true,\n          });\n        } else {\n          this.setState({\n            isLoggedin: true,\n            user\n          });\n        }\n      })\n      .catch(({ response: { data: error } }) => {\n        this.setState({\n          message: error.statusMessage\n        });\n      });\n  };\n\n  login = user => {\n    const { username, password, userType } = user;\n    console.log(userType)\n    auth\n      .login({ username, userType, password })\n      .then(user => {\n        if(user.userType === 'business') {\n          this.setState({\n            isLoggedin: true,\n            user,\n            isBusinessAccount: true,\n          });\n        } else {\n          this.setState({\n            isLoggedin: true,\n            user\n          });\n        }\n      })\n      .catch(() => {});\n  };\n\n  logout = () => {\n    auth\n      .logout()\n      .then(() => {\n        this.setState({\n          isLoggedin: false,\n          user: null,\n          isBusinessAccount: false,\n        });\n      })\n      .catch(() => {});\n  };\n  render() {\n    const { isLoading, isLoggedin, user, isBusinessAccount } = this.state;\n    return isLoading ? (\n      <div>Loading</div>\n    ) : (\n      <Provider\n        value={{\n          isLoggedin,\n          isBusinessAccount,\n          user,\n          login: this.login,\n          logout: this.logout,\n          signup: this.signup\n        }}\n      >\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport default AuthProvider;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nclass Navbar extends Component {\n\n  goBack = () => {\n    this.props.history.goBack();\n  }\n  render() {\n\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div className=\"logout-navbar\">\n\n        {isLoggedin ? (\n          <>\n            <img src=\"https://www.shareicon.net/download/2016/07/10/119999_arrows.ico\" onClick={this.goBack}/>\n            <h2>TippJar</h2>\n            <img src=\"https://static.thenounproject.com/png/205237-200.png\" onClick={logout}/>\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);","import React, { Component } from 'react'\r\nimport './../css/worker-card.css';\r\n\r\nexport default class WorkerCard extends Component {\r\n\r\n  numberToStar = () =>{\r\n\r\n    const selectorString = (this.props._id).toString()\r\n    const rating = document.getElementById(selectorString)\r\n    \r\n    console.log(\"id\", rating)\r\n\r\n    if(this.props.rating === 1){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★</span>`    \r\n    }else if(this.props.rating === 2){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★</span>`\r\n    }else if(this.props.rating === 3){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★</span>`\r\n    }else if(this.props.rating === 4){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★★</span>` \r\n    }else if(this.props.rating === 5){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★★★</span>` \r\n    }else if(this.props.rating === 0){\r\n      rating.innerHTML = `Rating: No rating yet</span>` \r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.numberToStar()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <article className=\"worker-card\">\r\n        <div className=\"worker-card-wrapper\">\r\n          <div className=\"worker-card-img\">\r\n            <img src={this.props.imgUrl} alt={this.props.name}/>\r\n          </div>\r\n          <div className=\"worker-card-info\">\r\n            <h4>{this.props.name}</h4>\r\n            <h5>{this.props.type}</h5>\r\n            <p id={this.props._id}></p>\r\n            <p>Total Tips: {this.props.tips} €</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './../css/worker-card.css';\r\n\r\nexport default class PromotionCard extends Component {\r\n  render() {\r\n    return (\r\n      <article className=\"worker-card\">\r\n        <div className=\"worker-card-wrapper\">\r\n          <div className=\"worker-card-img\">\r\n            <img src={this.props.imgUrl} alt={this.props.name}/>\r\n          </div>\r\n          <div className=\"worker-card-info\">\r\n            <h4>{this.props.name}</h4>\r\n            <h5>{this.props.type}</h5>\r\n            <p>Points to Unlock : {this.props.pointsToUnlock}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nclass BusinessService {\r\n  constructor() {\r\n    this.business = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n  // ======== BUSINESS SERVICES =================================================== //\r\n\r\n  getBusiness() {\r\n    return this.business\r\n      .get(\"/api/business\")\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  updateBusiness(business){\r\n    return this.business\r\n      .put(`/api/business/update`, business)\r\n      .then(({ data }) => data);\r\n  }\r\n  // ======== WORKER SERVICES ======================================================== //\r\n\r\n  getAWorker(id) {\r\n    return this.business\r\n      .get(`/api/business/workers/${id}`)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  addWorker(worker){\r\n    return this.business\r\n      .post(`/api/business/workers-add`, worker)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  updateWorker(worker,id){\r\n    return this.business\r\n      .put(`/api/business/workers/${id}/update`, worker)\r\n      .then(({ data }) => data);\r\n  }\r\n  \r\n  deleteWorker(id){\r\n    return this.business\r\n      .delete(`/api/business/workers/${id}/delete`)\r\n      .then(({ data }) => data);\r\n  }\r\n  // ======== PROMOTION SERVICES ============================================================= //\r\n\r\n  getAPromotion(id) {\r\n    return this.business\r\n      .get(`/api/business/promotions/${id}`)\r\n      .then(({ data }) => data);\r\n  }\r\n  addPromotion(promotion){\r\n    return this.business\r\n      .post(`/api/business/promotions-add`, promotion)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  updatePromotion(promotion,id){\r\n    return this.business\r\n      .put(`/api/business/promotions/${id}/update`, promotion)\r\n      .then(({ data }) => data);\r\n  }\r\n  \r\n  deletePromotion(id){\r\n    return this.business\r\n      .delete(`/api/business/promotions/${id}/delete`)\r\n      .then(({ data }) => data);\r\n  } \r\n// ======== img SERVICES ============================================================= //\r\n\r\n  imageUpload(file) {\r\n    return this.business\r\n    .post('/api/business/image', file)\r\n    .then(({data}) => data)\r\n  }\r\n\r\n  }\r\n\r\nconst business = new BusinessService();\r\n\r\nexport default business;\r\n","import React, { Component } from 'react'\r\nimport businessService from './../../../lib/business-service';\r\n\r\n\r\nexport default class BusinessCard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      imgUrl: \"\",\r\n      location: \"\",\r\n      numberOfWorkers: 0,\r\n      numberOfPromotions: 0,\r\n      showModal: false,\r\n      disable: true,\r\n      }\r\n  };\r\n\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();    \r\n    const { username, location, imgUrl } = this.state;\r\n\r\n    businessService.updateBusiness({ username, location, imgUrl })\r\n    .then((business) => {\r\n\r\n      this.setState({\r\n        imgUrl: business.imgUrl,\r\n        showModal:false,\r\n      })\r\n\r\n      let blackBg = document.querySelector('.bg-modal');\r\n      blackBg.style.display = \"none\"\r\n\r\n    })\r\n    .catch((err) => console.log(err)); \r\n\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n\r\n    let blackBg = document.querySelector('.bg-modal');\r\n    if(blackBg.style.display === \"block\"){\r\n      blackBg.style.display = \"none\"\r\n    }else{\r\n      blackBg.style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    businessService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  style =() => \r\n  { \r\n    let style = {\r\n    \"color\": 'white',\r\n    \"background\": '#e20088',\r\n    borderRadius: '50%',\r\n    width: '20px',\r\n    height:'20px',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    lineHeight: '20px',\r\n  }\r\n    return style\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    businessService.getBusiness()\r\n    .then((business) => {\r\n      const selectedBusiness = business;\r\n      this.setState({numberOfWorkers : selectedBusiness.workers.length,numberOfPromotions : selectedBusiness.promotions.length,...selectedBusiness});\r\n\r\n    }).catch((err) => console.log(err));  \r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"business-card-page\">\r\n\r\n        <div className=\"business-card-wrapper\" >\r\n          <img src=\"https://www.pngrepo.com/png/156718/170/pencil-hand-drawn-tool-outline.png\" onClick={this.toggleModal} className=\"edit-button\"/>\r\n          <div className=\"business-card-img\">\r\n            <img src={this.state.imgUrl} alt={this.state.username}/>\r\n          </div>\r\n          <div className=\"business-card-data-wrapper\">\r\n            <div className=\"business-card-title\">\r\n              <h3>{this.state.username}</h3>\r\n              <p style={{color:\"#c7c7c7\"}}>{this.state.location}</p>\r\n            </div>\r\n\r\n            <div className=\"business-card-data\">\r\n              <p>Workers: <span style={this.style()}>{this.state.numberOfWorkers}</span> </p>\r\n              <p>Promotions: <span style={this.style()}>{this.state.numberOfPromotions}</span> </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {\r\n          this.state.showModal ?\r\n        <form onSubmit={this.handleFormSubmit} className=\"modal-edit-form\">\r\n        <h3>Update Business</h3>\r\n        <span className=\"close-button\" onClick={this.toggleModal}>x</span>\r\n          <div className=\"inputfile-wrapper\"> \r\n\r\n          <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img\">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\"className=\"disabled-upload-img\" alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          \r\n          </div>\r\n          <label>Your business name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Your business location:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            value={this.state.location}\r\n            onChange={this.handleChange}\r\n          />\r\n         { this.state.disable ? <input type=\"submit\" value=\"Update!\" disabled className=\"form-button-disabled\"/>:<input type=\"submit\" value=\"Update!\" className=\"form-button-business\"/>}\r\n        </form>\r\n        :\r\n        null\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport { Link } from \"react-router-dom\";\nimport WorkerCard from './components/WorkerCard';\nimport PromotionCard from './components/PromotionCard';\nimport BusinessCard from './components/BusinessCard';\nimport businessService from '../../lib/business-service';\nimport addWorker from './../../img/addworker.svg'\nimport addPromo from './../../img/addpromo.svg'\n\n\nclass Business extends Component {\n  state = {\n    username:\"\",\n    email: \"\",\n    imgUrl: \"\",\n    location: \"\",\n    promotions: [],\n    userType: \"business\",\n    workers: [],\n    toggleWorker : true,\n    togglePromotion : false,\n  };\n  bodyBgDefault =() =>{\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"business-bg-color\");\n    body.classList.remove(\"signup-bg-color-customer\");\n    body.classList.remove(\"signup-bg-color-black\");\n    body.classList.remove(\"signup-bg-color-business\");\n  }\n\n  toggleWorker = () => {\n    this.setState({ toggleWorker: true, togglePromotion:false });\n  }\n  togglePromotion = () => {\n    this.setState({ toggleWorker: false, togglePromotion:true });\n  }\n  \n  componentDidMount() {\n\n    this.bodyBgDefault();\n\n    businessService.getBusiness()\n    .then((business) => {\n      const selectedBusiness = business;\n      this.setState({...selectedBusiness});\n\n    }).catch((err) => console.log(err));  \n  }\n\n  render() {\n    const business = this.state;\n\n    return (\n      <main className=\"business-page\">\n      { this.state.toggleWorker ?\n        <Link to={`/business/workers-add`} className=\"worker-add-button\" >\n          <img src={addWorker} alt=\"\"/>\n        </Link>\n      :\n        <Link to={`/business/promotions-add`}  className=\"promotion-add-button\">\n        <img src={addPromo} alt=\"\"/>\n        </Link>\n      }\n\n        {\n          <BusinessCard {...business}/>\n        }\n        <div className=\"business-page-togglebuttons\">\n          <div className=\"business-page-buttonworkers\" onClick={this.toggleWorker}>\n            <h4> WORKERS </h4>\n            { this.state.toggleWorker ? <div className=\"selected-button\"> </div> : <div className=\"noselected-button\"> </div>}\n          </div>\n          <div className=\"business-page-buttonpromotions\" onClick={this.togglePromotion}>\n            <h4> PROMOTIONS </h4>\n            { this.state.togglePromotion ? <div className=\"selected-button\"> </div> : <div className=\"noselected-button\"> </div>}\n          </div>\n        </div>\n\n        {\n\n          this.state.toggleWorker ?\n                  \n          business.workers.map((worker) =>\n            <Link to={`/business/workers/${worker._id}`} key={worker._id} className=\"worker-card-link\">\n              <WorkerCard {...worker}/>\n            </Link>\n  \n          )\n          :\n\n          business.promotions.map((promotion) =>\n\n            <Link to={`/business/promotions/${promotion._id}`} key={promotion._id}  className=\"worker-card-link\">\n              <PromotionCard {...promotion}/>\n            </Link>\n          )\n          \n        }\n        \n\n      </main>\n    );\n  }\n}\n\nexport default withAuth(Business);\n","import React, { Component } from 'react'\r\nimport businessService from './../../../lib/business-service';\r\n\r\nexport default class BusinessWorkerAdd extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      disable:true,\r\n      };\r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { name,type,imgUrl } = this.state;\r\n\r\n    businessService.addWorker({ name,type,imgUrl })\r\n    .then(() => {\r\n      this.props.history.push('/business');\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    businessService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  closeModal = () => {\r\n    this.props.history.push('/business')\r\n  }\r\n  componentDidMount(){\r\n    this.bodyBgDefault()\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <article className=\"worker-profile\">\r\n\r\n      <form onSubmit={this.handleFormSubmit}>\r\n        <h3>Add a worker</h3>\r\n          <span className=\"close-button\" onClick={this.closeModal}>x</span>\r\n        <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img \">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\" className=\"disabled-upload-img\"alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          <label>Your worker name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Your worker position:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"type\"\r\n            value={this.state.type}\r\n            onChange={this.handleChange}\r\n          />\r\n          { this.state.disable ? <input type=\"submit\" value=\"Add Worker!\" disabled className=\"form-button-disabled\"/>:\r\n          <input type=\"submit\" value=\"Add Worker!\" className=\"form-button-business\"/>}\r\n\r\n\r\n        </form>\r\n\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport businessService from './../../../lib/business-service';\r\n\r\nexport default class BusinessWorker extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      rating: 0,\r\n      tips: 0,\r\n      disable:true,\r\n      };\r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const { name,type, imgUrl } = this.state;\r\n\r\n    businessService.updateWorker({ name,type, imgUrl },id)\r\n    .then(() => {\r\n      this.props.history.push('/business');\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  }\r\n\r\n  deleteWorker = () => {\r\n    const { id } = this.props.match.params;\r\n    businessService.deleteWorker(id)\r\n    \t.then(() => {\r\n        this.props.history.push('/business')\r\n      })\r\n    \t.catch( (err) => console.log(err));\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    businessService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  closeModal = () => {\r\n    this.props.history.push('/business')\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.bodyBgDefault();\r\n\r\n    businessService.getAWorker(this.props.match.params.id)\r\n    .then((worker) => {\r\n      const selectedWorker = worker;\r\n      this.setState({...selectedWorker});\r\n    })\r\n    .catch((err) => console.log(err));\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <article className=\"worker-profile\">\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n        <h3>Add a promotion</h3>\r\n          <span className=\"close-button\" onClick={this.closeModal}>x</span>\r\n        <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img \">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\" className=\"disabled-upload-img\"alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          <label>Your worker name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Your worker position:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"type\"\r\n            value={this.state.type}\r\n            onChange={this.handleChange}\r\n          />\r\n          { this.state.disable ? <input type=\"submit\" value=\"Update Worker!\" disabled className=\"form-button-disabled\"/>:\r\n          <input type=\"submit\" value=\"Update Worker!\" className=\"form-button-business\"/>}\r\n\r\n          <input onClick={() => this.deleteWorker()} type=\"submit\" value=\"delete\" className=\"form-button-delete\"/>\r\n\r\n        </form>\r\n\r\n\r\n      </article>\r\n\r\n\r\n\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport businessService from './../../../lib/business-service';\r\n\r\nexport default class BusinessPromotionAdd extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      pointsToUnlock: 0,\r\n      disable:true,\r\n      };\r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { name,type,pointsToUnlock,imgUrl } = this.state;\r\n\r\n    businessService.addPromotion({ name,type,pointsToUnlock, imgUrl })\r\n    .then(() => {\r\n      this.props.history.push('/business');\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  \r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  componentDidMount(){\r\n    this.bodyBgDefault()\r\n  }\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    businessService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  closeModal = () => {\r\n    this.props.history.push('/business')\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <article className=\"worker-profile\">\r\n      <form onSubmit={this.handleFormSubmit}>\r\n      <h3>Add a promotion</h3>\r\n          <span className=\"close-button\" onClick={this.closeModal}>x</span>\r\n        <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img \">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\" className=\"disabled-upload-img\"alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          <label>Promotion name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Promotion type:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"type\"\r\n            value={this.state.type}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Points to unlock promotion::</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"pointsToUnlock\"\r\n            value={this.state.pointsToUnlock}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          { this.state.disable ? <input type=\"submit\" value=\"Add Promo!\" disabled className=\"form-button-disabled\"/>:\r\n          <input type=\"submit\" value=\"Add Promo!\" className=\"form-button-business\"/>}\r\n        </form>\r\n\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport businessService from './../../../lib/business-service';\r\n\r\nexport default class BusinessPromotion extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      pointsToUnlock: 0,\r\n      disable:true,\r\n      };\r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const { name,type,pointsToUnlock,imgUrl } = this.state;\r\n\r\n    businessService.updatePromotion({ name,type,pointsToUnlock,imgUrl },id)\r\n    .then(() => {\r\n      this.props.history.push('/business');\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  }\r\n\r\n  deletePromotion = () => {\r\n    const { id } = this.props.match.params;\r\n    businessService.deletePromotion(id)\r\n    \t.then(() => {\r\n        this.props.history.push('/business')\r\n      })\r\n    \t.catch( (err) => console.log(err));\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    businessService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  closeModal = () => {\r\n    this.props.history.push('/business')\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.bodyBgDefault();\r\n \r\n    businessService.getAPromotion(this.props.match.params.id)\r\n    .then((promotion) => {\r\n      const selectedPromotion = promotion;\r\n      this.setState({...selectedPromotion});\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <article className=\"worker-profile\">\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n        <h3>Update promotion</h3>\r\n          <span className=\"close-button\" onClick={this.closeModal}>x</span>\r\n        <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img \">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\" className=\"disabled-upload-img\"alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          <label>Promotion name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Promotion type:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"type\"\r\n            value={this.state.type}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Points to unlock promotion::</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"pointsToUnlock\"\r\n            value={this.state.pointsToUnlock}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          { this.state.disable ? <input type=\"submit\" value=\"Update Promo!\" disabled className=\"form-button-disabled\"/>:\r\n          <input type=\"submit\" value=\"Update Promo!\" className=\"form-button-business\"/>}\r\n\r\n          <input onClick={() => this.deletePromotion()} type=\"submit\" value=\"delete\" className=\"form-button-delete\"/>\r\n\r\n        </form>\r\n\r\n      </article>\r\n    )\r\n  }\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\nclass CustomerService {\r\n  constructor() {\r\n    this.customer = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n  // ======== customer SERVICES =================================================== //\r\n\r\n  getCustomer() {\r\n    return this.customer\r\n      .get(\"/api/customer\")\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  updateCustomer(customer){\r\n    return this.customer\r\n      .put(`/api/customer/update`, customer)\r\n      .then(({ data }) => data);\r\n  }\r\n  // ======== wallet SERVICES ======================================================== //\r\n\r\n  updateWallet(customer){\r\n    return this.customer\r\n      .put(`/api/customer/wallet/update`, customer)\r\n      .then(({ data }) => data);\r\n  }\r\n// ======== img SERVICES ============================================================= //\r\n\r\n  imageUpload(file) {\r\n    return this.customer\r\n    .post('/api/business/image', file)\r\n    .then(({data}) => data)\r\n  }\r\n}\r\n\r\n\r\nconst Customer = new CustomerService();\r\n\r\nexport default Customer;\r\n","import React, { Component } from \"react\";\r\nimport customerService from '../lib/customer-service';\r\nimport { Link } from \"react-router-dom\";\r\nimport customerImg from './../img/male.svg'\r\nimport promoImg from './../img/promotion.svg'\r\nimport walletImg from './../img/wallet.svg'\r\n\r\nclass BottomNavbar extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      balance: 0,\r\n      showModal: false,\r\n      }\r\n  };\r\n\r\n/* CREAR COMPONENTE DE WALLET ========================================================== */\r\n\r\n  handleFormSubmit = event => {\r\n        event.preventDefault();    \r\n        const { balance } = this.state;\r\n\r\n        customerService.updateWallet({balance})\r\n        .then((wallet) => {\r\n          const balanceFinal = wallet.customer.balance;\r\n\r\n          this.setState({ showModal: !this.state.showModal, balance:balanceFinal });\r\n\r\n          this.props.updateBalance(balanceFinal)\r\n        })\r\n        .catch((err) => console.log(err)); \r\n    \r\n      };\r\n    \r\n      handleChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value });\r\n      };\r\n\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"bottom-navbar-wrapper\">\r\n      {\r\n          this.state.showModal ?\r\n        <form onSubmit={this.handleFormSubmit} className=\"form-wallet\">\r\n        <span className=\"close-button\" onClick={this.toggleModal}>x</span>\r\n          <label>Add $ to your wallet:</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"balance\"\r\n            value={this.state.balance}\r\n            onChange={this.handleChange}\r\n            min=\"0\"\r\n          />\r\n          <button type=\"submit\" value=\"ADD €\" className=\"form-button-customer paypal-wrapper\">\r\n           <img src=\"http://nuamedia.com.au/wp-content/uploads/2019/02/paypal-logo.png\" alt=\"\" className=\"paypal\"/><p>ADD CASH</p>\r\n          </button>\r\n        </form>\r\n        :\r\n        null\r\n        }\r\n        <Link to={`/customer`}>\r\n          <button>\r\n            <img src={customerImg} alt=\"\"/>\r\n          </button>\r\n        </Link>\r\n          <button onClick={this.toggleModal} className=\"wallet-button\">\r\n           <img src={walletImg} alt=\"\"/>\r\n            <p>{this.props.balance}€ </p>\r\n          </button>\r\n        <Link to={`/promotions`}>\r\n          <button>\r\n            <img src={promoImg} alt=\"\"/>\r\n          </button>\r\n        </Link>\r\n      </div>\r\n\r\n      \r\n\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default BottomNavbar;\r\n","import React, { Component } from 'react'\r\nimport customerService from '../../../lib/customer-service';\r\n\r\nexport default class customerCard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      username:\"\",\r\n      imgUrl:\"\",\r\n      location:\"\",\r\n      balance:\"\",\r\n      numberOfPromotions:0,\r\n      showModal: false,\r\n      disable: true,\r\n      }\r\n  };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();    \r\n    const { username, location, imgUrl } = this.state;\r\n\r\n    customerService.updateCustomer ({ username, location,imgUrl })\r\n    .then((customer) => {\r\n      console.log(customer)\r\n      this.setState({\r\n        imgUrl: customer.imgUrl,\r\n        showModal:false,\r\n      })\r\n\r\n      let blackBg = document.querySelector('.bg-modal');\r\n      blackBg.style.display = \"none\"\r\n\r\n    })\r\n    .catch((err) => console.log(err)); \r\n\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n\r\n    let blackBg = document.querySelector('.bg-modal');\r\n    if(blackBg.style.display === \"block\"){\r\n      blackBg.style.display = \"none\"\r\n    }else{\r\n      blackBg.style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  fileOnchange = (event) => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData()\r\n    uploadData.append('photo', file)\r\n\r\n    customerService.imageUpload(uploadData)\r\n    .then((imgUrl) => {\r\n      this.setState({\r\n        imgUrl,\r\n        disable: false,\r\n      })\r\n    })\r\n    .catch((error) => console.log(error))\r\n  }\r\n  style =() => \r\n  { \r\n    let style = {\r\n    \"color\": 'white',\r\n    \"background\": '#ff6126',\r\n    borderRadius: '50%',\r\n    width: '20px',\r\n    height:'20px',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    lineHeight: '20px',\r\n  }\r\n    return style\r\n  }\r\n  componentDidMount() {\r\n\r\n    customerService.getCustomer()\r\n    .then((customer) => {\r\n      console.log(customer)\r\n      const selectedCustomer = customer;\r\n      this.setState({numberOfPromotions : selectedCustomer.pinnedbusiness.length,...selectedCustomer});\r\n\r\n    }).catch((err) => console.log(err));  \r\n  }\r\n\r\n  render() {\r\n    const {username, imgUrl, location, balance, numberOfPromotions} = this.state;\r\n    return (\r\n      <div className=\"customer-card-page\">\r\n\r\n      <div className=\"business-card-wrapper\" >\r\n          <img src=\"https://www.pngrepo.com/png/156718/170/pencil-hand-drawn-tool-outline.png\" onClick={this.toggleModal} className=\"edit-button\"/>\r\n          <div className=\"business-card-img\">\r\n            <img src={imgUrl} alt={username}/>\r\n          </div>\r\n          <div className=\"business-card-data-wrapper\">\r\n            <div className=\"business-card-title\">\r\n              <h3>{username}</h3>\r\n              <p style={{color:\"#c7c7c7\"}}>{location}</p>\r\n            </div>\r\n            <div className=\"business-card-data\">\r\n            <p>Balance: <span style={this.style()}>{this.props.balance}</span></p>\r\n            <p>Promotions: <span style={this.style()}>{numberOfPromotions}</span></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {\r\n          this.state.showModal ?\r\n        <form onSubmit={this.handleFormSubmit} className=\"modal-edit-form\">\r\n        <h3>Update profile</h3>\r\n        <span className=\"close-button\" onClick={this.toggleModal}>x</span>\r\n          <div className=\"inputfile-wrapper\"> \r\n\r\n          <input type=\"file\" name=\"file\" id=\"file\" onChange={this.fileOnchange} className=\"inputfile\"></input>\r\n          <label htmlFor=\"file\" >\r\n          { this.state.disable ?\r\n          <><div className=\"profile-card-img\">\r\n           <img src=\"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png\"className=\"disabled-upload-img\" alt=\"\"/>\r\n           </div>\r\n            <p>Upload a picture</p>\r\n          </>\r\n          :\r\n          <>\r\n          <div className=\"profile-card-img\">\r\n            <img src={imgUrl}/>\r\n          </div>\r\n            <p>Update picture</p>\r\n          </>\r\n          \r\n          }\r\n          </label>\r\n          \r\n          </div>\r\n          <label>Your name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label>Your location:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            value={location}\r\n            onChange={this.handleChange}\r\n          />\r\n         { this.state.disable ? <input type=\"submit\" value=\"Update!\" disabled className=\"form-button-disabled\"/>:<input type=\"submit\" value=\"Update!\" className=\"form-button-customer\"/>}\r\n        </form>\r\n        :\r\n        null\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PromotionCard extends Component {\r\n  render() {\r\n    return (\r\n      <article className=\"worker-card\">\r\n        <div className=\"worker-card-wrapper\">\r\n          <div className=\"worker-card-img\">\r\n            <img src={this.props.business.imgUrl} alt={this.props.business.name}/>\r\n          </div>\r\n          <div className=\"worker-card-info\">\r\n            <h4 style={{color:\"#ff6126\"}}>{this.props.business.username}</h4>\r\n            <h5>{this.props.business.location}</h5>\r\n            <p>Total points: {this.props.points}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BottomNavBar from '../../components/BottomNavBar'\r\nimport CustomerCard from './components/CustomerCard'\r\nimport PromotionCard from './components/PromotionCard'\r\nimport customerService from '../../lib/customer-service';\r\n\r\nclass Customer extends Component {\r\n  state = {\r\n    \"username\": \"\",\r\n    \"email\": \"\",\r\n    \"imgUrl\": \"\",\r\n    \"location\": \"\",\r\n    \"balance\": 0,\r\n    \"pinnedbusiness\": null,\r\n    \"userType\": \"customer\",\r\n    loading:true,\r\n    numberOfPromotions: 0,\r\n  };\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n  \r\n  updateBalance = (newBalance) =>{\r\n    this.setState({balance : newBalance})\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.bodyBgDefault();\r\n\r\n    customerService.getCustomer()\r\n    .then((customer) => {\r\n\r\n      const selectedCustomer = customer;\r\n      this.setState({...selectedCustomer, loading:false, numberOfPromotions:customer.pinnedbusiness.length});\r\n\r\n    }).catch((err) => console.log(err));  \r\n  }\r\n\r\n  render() {\r\n    \r\n    const  { pinnedbusiness , loading } = this.state;\r\n    return (\r\n      <main>\r\n      <BottomNavBar {...this.state} updateBalance={this.updateBalance}/>\r\n      <section className=\"customer-page\">\r\n        { !loading ?\r\n          <CustomerCard {...this.state}/> : null\r\n        }\r\n        {\r\n          <div className=\"customer-page-togglebuttons\">\r\n            <div className=\"customer-page-buttonworkers\">\r\n              <h4> Your tipped places: </h4>\r\n              <div className=\"selected-button-customer\"></div>\r\n            </div>\r\n          </div>\r\n        }\r\n\r\n         { pinnedbusiness ?\r\n                  \r\n          pinnedbusiness.map((business) => {\r\n          return (\r\n            <Link to={`/promotions/${business.business._id}`} key={business.business._id} className=\"worker-card-link\">\r\n              <PromotionCard {...business}/>\r\n            </Link>\r\n          )})\r\n          \r\n          :\r\n          <h3>You haven´t tipped yet</h3>\r\n        }\r\n \r\n      </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Customer);\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PromotionsPromoCard extends Component {\r\n  style =() => \r\n  { \r\n    let style = {\r\n    \"color\": 'white',\r\n    \"background\": '#ff6126',\r\n    borderRadius: '50%',\r\n    width: '20px',\r\n    height:'20px',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    lineHeight: '20px',\r\n  }\r\nreturn style}\r\n  render() {\r\n    return (\r\n      <article className=\"worker-card\">\r\n        <div className=\"worker-card-wrapper\">\r\n          <div className=\"worker-card-img\">\r\n            <img src={this.props.imgUrl} alt={this.props.username}/>\r\n          </div>\r\n          <div className=\"worker-card-info\">\r\n            <h4 style={{color:\"#ff6126\"}}>{this.props.username}</h4>\r\n            <h5>{this.props.location}</h5>\r\n            <p><span style={this.style()}>{this.props.promotions.length}</span> promociones</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nclass PromotionsService {\r\n  constructor() {\r\n    this.promotions = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n  // ======== promotions SERVICES =================================================== //\r\n\r\n  getPromotions() {\r\n    return this.promotions\r\n      .get(\"/api/promotions\")\r\n      .then(({ data }) => data);\r\n  }\r\n  \r\n  getAPromotion(id) {\r\n    return this.promotions\r\n      .get(`/api/promotions/${id}`)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  // ======== TIP WORKER SERVICES ======================================================== //\r\n\r\n  getAPromotionsWorker(workerid,id) {\r\n    return this.promotions\r\n      .get(`/api/promotions/${id}/workers/${workerid}`)\r\n      .then(({ data }) => data);\r\n  }\r\n  updateTipWorker(worker,workerid,id){\r\n    return this.promotions\r\n      .put(`/api/promotions/${id}/workers/${workerid}/rate`, worker)\r\n      .then(({ data }) => data);\r\n  }\r\n  \r\n  // ======== PROMOTION SERVICES ============================================================= //\r\n\r\n  getAPromotionsPromo(promotionid,id) {\r\n    return this.promotions\r\n      .get(`/api/promotions/${id}/promotions/${promotionid}`)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  claimPromotion(promotionid,id){\r\n    return this.promotions\r\n      .put(`/api/promotions/${id}/promotions/${promotionid}/rate`)\r\n      .then(({ data }) => data);\r\n  }\r\n  }\r\n\r\nconst promotions = new PromotionsService();\r\n\r\nexport default promotions;\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BottomNavBar from '../../components/BottomNavBar'\r\nimport PromotionsPromoCard from './components/PromotionsPromoCard'\r\nimport promotionsService from '../../lib/promotions-service';\r\nimport customerService from '../../lib/customer-service';\r\n\r\nclass Promotions extends Component {\r\n  state = {\r\n    AllPromotions: null,\r\n    \"userType\": \"customer\",\r\n    balance:0,\r\n  };\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n  updateBalance = (newBalance) =>{\r\n    this.setState({balance : newBalance})\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.bodyBgDefault();\r\n\r\n    promotionsService.getPromotions()\r\n    .then((promotions) => {\r\n      customerService.getCustomer()\r\n      .then((customer) => {\r\n        const selectedPromotions = promotions;\r\n        this.setState({AllPromotions:selectedPromotions, balance: customer.balance});\r\n      }).catch((err) => console.log(err)); \r\n    }).catch((err) => console.log(err));  \r\n  }\r\n\r\n  render() {\r\n  \r\n    const {AllPromotions} = this.state;\r\n\r\n    return (\r\n      <main>\r\n      <BottomNavBar  {...this.state} updateBalance={this.updateBalance}/>\r\n      <section className=\"promotions-page\">\r\n        {\r\n          <h1 style={{textAlign:\"center\"}}>Tip and win!</h1>\r\n        }\r\n        {\r\n          <div className=\"customer-page-togglebuttons\">\r\n            <div className=\"customer-page-buttonworkers\">\r\n              <h4> All promotions: </h4>\r\n              <div className=\"selected-button-customer\"> </div>    \r\n            </div>\r\n          </div>\r\n        }\r\n\r\n         { AllPromotions ?\r\n                  \r\n          AllPromotions.map((promotion) =>\r\n\r\n            <Link to={`/promotions/${promotion._id}`} key={promotion._id} className=\"worker-card-link\">\r\n              <PromotionsPromoCard {...promotion}/>\r\n            </Link>\r\n          )\r\n          :\r\n          <h3>There are no Promotions</h3>\r\n        }\r\n \r\n      </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Promotions);\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PromotionWorkerCard extends Component {\r\n  numberToStar = () =>{\r\n\r\n    const selectorString = (this.props._id).toString()\r\n    \r\n    const rating = document.getElementById(selectorString)\r\n\r\n    if(this.props.rating === 1){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★</span>`    \r\n    }else if(this.props.rating === 2){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★</span>`\r\n    }else if(this.props.rating === 3){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★</span>`\r\n    }else if(this.props.rating === 4){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★★</span>` \r\n    }else if(this.props.rating === 5){\r\n      rating.innerHTML = `Rating: <span style='color:#ff9d2f;font-size:1.5em;'>★★★★★</span>` \r\n    }else if(this.props.rating === 0){\r\n      rating.innerHTML = `Rating: No rating yet</span>` \r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.numberToStar()\r\n  }\r\n  render() {\r\n    return (\r\n      <article className=\"worker-card\">\r\n        <div className=\"worker-card-wrapper\">\r\n          <div className=\"worker-card-img\">\r\n            <img src={this.props.imgUrl} alt={this.props.name}/>\r\n          </div>\r\n          <div className=\"worker-card-info\">\r\n            <h4 style={{color:\"#ff6126\"}}>{this.props.name}</h4>\r\n            <h5>{this.props.type}</h5>\r\n            <p id={this.props._id}></p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PromotionProgressCard extends Component {\r\n  \r\n  promoPosition = (avPromo) =>{\r\n\r\n    const mathValue = Math.floor((this.props.pointsToUnlock / this.props.totalPoints)*100)\r\n    let finalLeft = (mathValue-10).toString() +'%';\r\n\r\n    let usedPromo = false;\r\n\r\n    this.props.userID.map((elem)=>{\r\n      if(elem === this.props.customerID){\r\n\r\n        return usedPromo = true;\r\n      }\r\n    })\r\n    if(this.props.userPoints < this.props.pointsToUnlock){\r\n      if(mathValue >= 85) {\r\n\r\n        return {\r\n        left: \"82%\",\r\n        position:\"absolute\",\r\n        pointerEvents:\"none\",\r\n        background: \"rgb(238, 238, 238)\",\r\n        borderRadius: \"10px 10px 70px 70px\",\r\n        padding:\" 5px\",\r\n        }}\r\n        else{ \r\n        return {\r\n          left: finalLeft,\r\n          position:\"absolute\",\r\n          pointerEvents:\"none\",\r\n          background: \"rgb(238, 238, 238)\",\r\n          borderRadius: \"10px 10px 70px 70px\",\r\n          padding:\" 5px\",\r\n\r\n        }};\r\n    }else{\r\n      if(usedPromo){\r\n        return {\r\n          left: finalLeft,\r\n          position:\"absolute\",\r\n          pointerEvents:\"none\",\r\n          background: \"rgb(238, 238, 238)\",\r\n          borderRadius: \"10px 10px 70px 70px\",\r\n          padding:\" 5px\",\r\n          }\r\n      }\r\n      if(mathValue >= 85) {\r\n        return {\r\n        left: \"82%\",\r\n        position:\"absolute\",\r\n        background: \"rgb(166, 255, 182)\",\r\n        borderRadius: \"10px 10px 70px 70px\",\r\n        padding:\" 5px\",\r\n        }}\r\n        else{ \r\n        return {\r\n          left: finalLeft,\r\n          position:\"absolute\",\r\n          background: \"rgb(166, 255, 182)\",\r\n          borderRadius: \"10px 10px 70px 70px\",\r\n          padding:\" 5px\",\r\n        }};\r\n        \r\n    }\r\n  }\r\n  avPromotion = () =>{\r\n    const selectorString = (this.props._id).toString()    \r\n    const avPromo = document.getElementById(selectorString)\r\n    let usedPromo = false;\r\n\r\n    this.props.userID.map((elem)=>{\r\n      if(elem === this.props.customerID){\r\n\r\n        return usedPromo = true;\r\n      }\r\n    })\r\n    if(this.props.userPoints > this.props.pointsToUnlock && !usedPromo){\r\n      console.log(\"dentro\",usedPromo)\r\n      return avPromo.classList.add(\"pulse\");\r\n    }else if(usedPromo){\r\n      avPromo.classList.remove(\"pulse\");\r\n      avPromo.classList.add(\"test\");\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.promoPosition();\r\n    this.avPromotion();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div style={this.promoPosition()}>\r\n          <p>{this.props.name}</p>\r\n        <div className=\"promo-img-frame\" id={this.props._id}>\r\n          <img src={this.props.imgUrl} alt={this.props.name} className=\"promo-img\"/>\r\n        </div>\r\n        <p style={{textAlign:\"center\"}}>{this.props.pointsToUnlock}</p>\r\n        <p style={{textAlign:\"center\"}}>⯆</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport promotionsService from './../../../lib/promotions-service';\r\nimport customerService from './../../../lib/customer-service';\r\nimport './../css/promotions-profile.css'\r\nimport { Link } from \"react-router-dom\";\r\nimport BottomNavBar from '../../../components/BottomNavBar'\r\nimport PromotionsWorkerCard from './PromotionsWorkerCard'\r\nimport PromotionProgressCard from './PromotionProgressCard'\r\n\r\nexport default class PromotionsProfile extends Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      username:\"\",\r\n      email: \"\",\r\n      imgUrl: \"\",\r\n      location: \"\",\r\n      promotions: [],\r\n      workers: [],\r\n      totalPoints:0,\r\n      userPoints:0,\r\n      balance:0,\r\n      progressBar:\"\",\r\n      customerID:\"\",\r\n  }};\r\n\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  TotalPoints = (business) => {\r\n    const {promotions} = business\r\n\r\n    let totalPointsMapped = 0\r\n    promotions.map((promotion) => {\r\n\r\n      if(totalPointsMapped <= promotion.pointsToUnlock){\r\n        totalPointsMapped = promotion.pointsToUnlock\r\n    }\r\n    })\r\n    return totalPointsMapped\r\n  }\r\n  updateBalance = (newBalance) =>{\r\n    this.setState({balance : newBalance})\r\n  }\r\n\r\n  setPointsPosition = () =>{\r\n\r\n    const progressBar = document.querySelector('.points-progress-bar');\r\n    progressBar.style.width = this.state.progressBar;\r\n\r\n    }\r\n\r\n\r\n  componentDidMount() {\r\n    this.bodyBgDefault()\r\n    \r\n    promotionsService.getAPromotion(this.props.match.params.id)\r\n    .then((business) => {\r\n      customerService.getCustomer()\r\n      .then((customer) => {\r\n        const totalPoints = this.TotalPoints(business)\r\n        let userPoints = 0;\r\n        \r\n        customer.pinnedbusiness.map((promotion) =>        \r\n        { \r\n\r\n          if(promotion.business._id === business._id){\r\n            userPoints = promotion.points\r\n            return userPoints\r\n          }\r\n        })\r\n\r\n        let width = (Math.floor((userPoints / totalPoints)*100)).toString() + '%';\r\n        this.setState({...business, totalPoints, userPoints, balance:customer.balance,progressBar:width, customerID:customer._id});\r\n\r\n        this.setPointsPosition();\r\n        \r\n      }).catch((err) => console.log(err)); \r\n      \r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n    \r\n  }\r\n  \r\n  render() {\r\n    const {username,imgUrl,location, promotions,workers, totalPoints,userPoints,customerID }= this.state;\r\n\r\n    return (\r\n      <section>\r\n      <BottomNavBar {...this.state} updateBalance={this.updateBalance} />\r\n      <article className=\"promotions-profile\">\r\n\r\n        <div className=\"promotions-profile-wrapper\">\r\n          <div className=\"promotions-profile-img\">\r\n            <img src={imgUrl} alt={username}/>\r\n          </div>\r\n          <div className=\"promotions-profile-info\">\r\n            <h3>{username}</h3>\r\n            <h5>{location}</h5>\r\n          <img src=\"https://image.flaticon.com/icons/svg/149/149984.svg\" onClick={this.toggleModal} className=\"edit-button-promo-profile \"/>\r\n\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"promotion-bar-card\">\r\n        <h4> Avaliable promotions: </h4>\r\n\r\n        {\r\n          promotions.map((promotion) =>        \r\n            <Link key={promotion._id} to={`/promotions/${this.props.match.params.id}/promotions/${promotion._id}`} className=\"promo-img-frame-wrapper\">\r\n              <PromotionProgressCard {...promotion} totalPoints={totalPoints} userPoints={userPoints} customerID={customerID}/>\r\n            </Link>\r\n          )\r\n        }\r\n\r\n          <div className=\"points-progress-bar-wrapper\">\r\n            <div className=\"points-progress-bar\">\r\n            <div className=\"points-progress-bar-anim\"></div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n \r\n          <div className=\"customer-page-togglebuttons\">\r\n            <div className=\"customer-page-buttonworkers\">\r\n              <h4> Tip a worker: </h4>\r\n              <div className=\"selected-button-customer\"> </div>    \r\n            </div>\r\n          </div>\r\n\r\n          {\r\n          workers.map((worker) =>\r\n            <Link to={`/promotions/${this.props.match.params.id}/workers/${worker._id}/`} key={worker._id} className=\"worker-card-link\">\r\n              <PromotionsWorkerCard {...worker}/>\r\n            </Link>\r\n          )\r\n          }\r\n \r\n      </article>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport promotionsService from './../../../lib/promotions-service';\r\nimport customerService from './../../../lib/customer-service';\r\n\r\nexport default class PromotionsWorkerProfile extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      rating: 0,\r\n      tips: 0,\r\n      workerId:this.props.match.params.workerId,\r\n      id:this.props.match.params.id,\r\n      balance:0,\r\n      };\r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { workerId ,id } = this.state;\r\n    const { tips,rating } = this.state;\r\n    const points = tips*100;\r\n\r\n    promotionsService.updateTipWorker({ tips,rating, points }, workerId ,id)\r\n    .then(() => {\r\n      this.props.history.goBack();\r\n    })\r\n    .catch((err) => console.log(err)); \r\n\r\n  }\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({ [name]: value });\r\n  };\r\n  closeModal = () => {\r\n    this.props.history.push(`/promotions/${this.state.id}`)\r\n  }\r\n  style =() => \r\n  { \r\n    let style = {\r\n    \"color\": 'white',\r\n    \"background\": '#ff6126',\r\n    borderRadius: '50%',\r\n    width: '20px',\r\n    height:'20px',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    lineHeight: '20px',\r\n  }\r\nreturn style}\r\n\r\n  componentDidMount(){\r\n    this.bodyBgDefault()\r\n    const { workerId,id } = this.state;\r\n\r\n    promotionsService.getAPromotionsWorker(workerId,id)\r\n    .then((worker) => {\r\n\r\n      customerService.getCustomer()\r\n      .then((customer) => {\r\n    \r\n        const {imgUrl, name, type} = worker;\r\n        this.setState({imgUrl, name, type, balance:customer.balance});\r\n        \r\n      }).catch((err) => console.log(err)); \r\n\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  }\r\n  \r\n  render() {\r\n    console.log(this.state)\r\n    return (\r\n      <article className=\"worker-profile\">\r\n\r\n        <form onSubmit={this.handleFormSubmit} className=\"modal-edit-form\">\r\n        <span className=\"close-button\" onClick={this.closeModal}>x</span>\r\n          <h3 style={{textAlign:\"center\"}}>TIP {this.state.name} !</h3>\r\n          <div>\r\n\r\n          <div className=\"profile-card-img\" style={{left:\"50%\",transform:\"translateX(-50%)\",margin:\"5% 0\"}}>\r\n            <img src={this.state.imgUrl}/>\r\n          </div>\r\n\r\n          </div>\r\n          <p style={{textAlign:\"center\"}}>Your balance is: <span style={this.style()}>{this.state.balance}</span>€</p>\r\n          <input\r\n            type=\"number\"\r\n            name=\"tips\"\r\n            value={this.state.tips}\r\n            onChange={this.handleChange}\r\n            max={this.state.balance}\r\n          />\r\n\r\n          <label>Rating:</label>\r\n          <div className=\"rating-wrapper\">\r\n            <div className=\"rating\">\r\n            <label>\r\n              <input type=\"radio\" name=\"rating\" value=\"1\" onChange={this.handleChange}/>\r\n              <span className=\"icon\">★</span>\r\n            </label>\r\n            <label>\r\n              <input type=\"radio\" name=\"rating\" value=\"2\" onChange={this.handleChange}/>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n            </label>\r\n            <label>\r\n              <input type=\"radio\" name=\"rating\" value=\"3\" onChange={this.handleChange}/>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>   \r\n            </label>\r\n            <label>\r\n              <input type=\"radio\" name=\"rating\" value=\"4\" onChange={this.handleChange}/>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n            </label>\r\n            <label>\r\n              <input type=\"radio\" name=\"rating\" value=\"5\" onChange={this.handleChange}/>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n              <span className=\"icon\">★</span>\r\n            </label>\r\n            </div>\r\n          </div>\r\n          <input type=\"submit\" value=\"TIP !\" className=\"form-button-customer button-no-bottom\"/>\r\n        </form>\r\n\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport promotionsService from './../../../lib/promotions-service';\r\n\r\nexport default class PromotionsGetPromo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      imgUrl:\"\",\r\n      name : \"\",\r\n      type: \"\",\r\n      rating: 0,\r\n      tips: 0,\r\n      promoId:this.props.match.params.promoId,\r\n      id:this.props.match.params.id,\r\n      };\r\n      \r\n  }\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"business-bg-color\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const {promoId, id} = this.state;\r\n\r\n    promotionsService.claimPromotion(promoId,id)\r\n    .then(() => {\r\n      this.props.history.goBack();\r\n    })\r\n    .catch((err) => console.log(err)); \r\n\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  componentDidMount(){\r\n    this.bodyBgDefault()\r\n    const {promoId, id} = this.state;\r\n\r\n    promotionsService.getAPromotionsPromo(promoId,id)\r\n    .then((promotion) => {\r\n      const selectedPromotion = promotion;\r\n      this.setState({...selectedPromotion});\r\n    })\r\n    .catch((err) => console.log(err)); \r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <article className=\"worker-profile\">\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n        <div className=\"promotion-get-wrapper\">\r\n          <h3>{this.state.name}</h3>\r\n          <div className=\"profile-card-img\" style={{left:\"50%\",transform:\"translateX(-50%)\",margin:\"5% 0\"}}>\r\n           <img src={this.state.imgUrl} alt=\"\"/>\r\n          </div>\r\n        </div>\r\n            <input type=\"submit\" value=\"GET PROMO!\" className=\"form-button-customer button-no-bottom\"/>\r\n        </form>\r\n\r\n      </article>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport logo from './../img/tippjar-logo.png';\r\nimport coin from './../img/coin.png'\r\n\r\nclass Home extends Component {\r\n  bodyBgDefault =() =>{\r\n    const body = document.querySelector(\"body\");\r\n    body.classList.add(\"signup-bg-color-black\");\r\n    body.classList.remove(\"signup-bg-color-customer\");\r\n    body.classList.remove(\"signup-bg-color-business\");\r\n  }\r\n  gimmick = (el) => {\r\n    var exists = document.getElementById('gimmick')\r\n    if (exists) {\r\n        exists.parentNode.removeChild(exists);\r\n        return false;\r\n    }\r\n\r\n    var element = document.querySelector(el);\r\n    var canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        focused = false;\r\n\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n    canvas.id = 'gimmick'\r\n\r\n    var coin = new Image();\r\n    coin.src = 'https://i.imgur.com/2no4rII.png'\r\n    // 440 wide, 40 high, 10 states\r\n    coin.onload = function () {\r\n        element.appendChild(canvas)\r\n        focused = true;\r\n        drawloop();\r\n    }\r\n    var coins = []\r\n\r\n    function drawloop() {\r\n        if (focused) {\r\n            requestAnimationFrame(drawloop);\r\n        }\r\n        \r\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n\r\n        if (Math.random() < .3) {\r\n            coins.push({\r\n                x: Math.random() * canvas.width | 0,\r\n                y: -50,\r\n                dy: 3,\r\n                s: 0.5 + Math.random(),\r\n                state: Math.random() * 10 | 0\r\n            })\r\n        }\r\n        var i = coins.length\r\n        while (i--) {\r\n            var x = coins[i].x\r\n            var y = coins[i].y\r\n            var s = coins[i].s\r\n            var state = coins[i].state\r\n            coins[i].state = (state > 9) ? 0 : state + 0.1\r\n            coins[i].dy += 0.3\r\n            coins[i].y += coins[i].dy\r\n\r\n            ctx.drawImage(coin, 44 * Math.floor(state), 0, 44, 40, x, y, 44 * s, 40 * s)\r\n\r\n            if (y > canvas.height) {\r\n                coins.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n  componentDidMount(){\r\n    this.bodyBgDefault();\r\n    this.gimmick(\"body\"); \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"home-splash-wrapper\">\r\n        <div className=\"home-splash-title\">\r\n          <img src={logo} alt=\"\"/>\r\n          <h2 style={{color:\"white\",textAlign:\"center\",fontFamily: 'K2D',lineHeight:\"1.2\"}}>Happy workers, <br/> <span style={{color:\"#ff9d2f\",fontWeight:\"900\"}}>AMAZING</span><br/> discounts</h2>\r\n        </div>      \r\n        <div className=\"home-splash-buttons\">\r\n          <Link to=\"/signup\"><button className=\"home-button-signup\">SIGN UP</button></Link>\r\n          <p className=\"login-link-text-color\">Already have an account,<Link to=\"/login\">LOG IN</Link></p>\r\n        </div>  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Home);\r\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport businessImg from '../img/donut-shop.svg';\nimport customerImg from '../img/male.svg';\n\n\n\nclass Signup extends Component {\n  state = {\n    \"username\": \"\",\n    \"password\": \"\",\n    \"email\": \"\", \n    \"location\": \"\",\n    \"userType\": \"\",\n  };\n  bodyBgDefault =() =>{\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-black\");\n    body.classList.remove(\"signup-bg-color-customer\");\n    body.classList.remove(\"signup-bg-color-business\");\n  }\n\n  bodyBgBusiness = () => {\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-business\");\n    body.classList.remove(\"signup-bg-color-customer\");\n  }\n  bodyBgCustomer = () => {\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-customer\");\n    body.classList.remove(\"signup-bg-color-business\");\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password, email, location, userType } = this.state;\n    this.props.signup({ username, password, email, location, userType })\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  removeCanvas =()=>{\n    const canvas = document.querySelector('canvas');\n    if(!canvas){\n      return\n    }else{\n      canvas.style.display = \"none\"\n\n    }\n  }\ncomponentDidMount(){\n  this.bodyBgDefault();\n  this.removeCanvas();\n}\n\n  render() {\n    const { username, password, email, location } = this.state;\n\n    return (\n      <section className=\"signup-wrapper\">\n        <form onSubmit={this.handleFormSubmit}>\n          <h1>Sign up</h1>\n          <h4>Choose your type of user</h4>\n          <div className=\"radio-wrapper\">\n\n            <label className=\"radio-checked\">\n            <input\n              type=\"radio\"\n              name=\"userType\"\n              placeholder=\"customer\"\n              value=\"customer\"\n              onChange={this.handleChange}\n            />\n            <span className=\"checkmark-customer\" onClick={this.bodyBgCustomer}>\n              <img src={customerImg} alt=\"\"/>\n              <h4>I am a Customer</h4>\n            </span>\n            </label>\n            <label className=\"radio-checked\">\n            <input\n              type=\"radio\"\n              name=\"userType\"\n              placeholder=\"business\"\n              value=\"business\"\n              onChange={this.handleChange}\n            />\n            <span className=\"checkmark-business\" onClick={this.bodyBgBusiness}>\n              <img src={businessImg} alt=\"\"/>\n              <h4>I am a Business</h4>\n            </span>\n            </label>\n          </div>\n\n          {\n            this.state.userType !== \"\" ?\n            <div>\n          { this.state.userType === \"business\" ? <h4 style={{color:\"#ff2f2f\"}}>Add workers and create promotions</h4> :<h4 style={{color:\"#ff9d2f\"}}>Tip workers and get promotions!</h4> }\n          { this.state.userType === \"business\" ? <label>Business name:</label> : <label>Customer name:</label> }\n\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={this.handleChange}\n            required\n          />\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            required\n          />\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            name=\"location\"\n            value={location}\n            onChange={this.handleChange}\n            required\n          />\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            \n            onChange={this.handleChange}\n            required/>\n            { this.state.userType === \"business\" ? <input type=\"submit\" value=\"SIGN UP\" className=\"form-button-business\" />: <input type=\"submit\" value=\"SIGN UP\" className=\"form-button-customer\" />}\n          \n          </div>\n          :\n          null\n          }\n        </form>\n        <p className=\"login-link-text-color\">\n          Already have account?\n          <Link to={\"/login\"}>Login</Link>\n        </p>\n      </section>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport { Link } from \"react-router-dom\";\nimport businessImg from '../img/donut-shop.svg';\nimport customerImg from '../img/male.svg';\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    \"userType\": \"\",\n  };\n\n  bodyBgDefault =() =>{\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-black\");\n    body.classList.remove(\"signup-bg-color-customer\");\n    body.classList.remove(\"signup-bg-color-business\");\n  }\n  bodyBgBusiness = () => {\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-business\");\n    body.classList.remove(\"signup-bg-color-customer\");\n  }\n  bodyBgCustomer = () => {\n    const body = document.querySelector(\"body\");\n    body.classList.add(\"signup-bg-color-customer\");\n    body.classList.remove(\"signup-bg-color-business\");\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password, userType } = this.state;\n    this.props.login({ username, password, userType });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  removeCanvas =()=>{\n    const canvas = document.querySelector('canvas');\n    if(!canvas){\n      return\n    }else{\n      canvas.style.display = \"none\"\n\n    }\n  }\ncomponentDidMount(){\n  this.bodyBgDefault();\n  this.removeCanvas();\n}\n  render() {\n    const { username, password } = this.state;\n    return (\n      <section className=\"signup-wrapper\">\n      <form onSubmit={this.handleFormSubmit}>\n          <h1>Log in</h1>\n          <h4>Choose your type of user</h4>\n          <div className=\"radio-wrapper\">\n\n            <label className=\"radio-checked\">\n            <input\n              type=\"radio\"\n              name=\"userType\"\n              placeholder=\"customer\"\n              value=\"customer\"\n              onChange={this.handleChange}\n            />\n            <span className=\"checkmark-customer\" onClick={this.bodyBgCustomer}>\n              <img src={customerImg} alt=\"\"/>\n              <h4>I am a Customer</h4>\n            </span>\n            </label>\n            <label className=\"radio-checked\">\n            <input\n              type=\"radio\"\n              name=\"userType\"\n              placeholder=\"business\"\n              value=\"business\"\n              onChange={this.handleChange}\n            />\n            <span className=\"checkmark-business\" onClick={this.bodyBgBusiness}>\n              <img src={businessImg} alt=\"\"/>\n              <h4>I am a Business</h4>\n            </span>\n            </label>\n          </div>\n          {\n            this.state.userType !== \"\" ?\n            <div>\n\n          { this.state.userType === \"business\" ? <label>Business name:</label> : <label>Customer name:</label> }\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={username}\n          onChange={this.handleChange}\n        />\n        <label>Password:</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={this.handleChange}\n        />\n        { this.state.userType === \"business\" ? <input type=\"submit\" value=\"LOG IN\" className=\"form-button-business\" />: <input type=\"submit\" value=\"LOG IN\" className=\"form-button-customer\" />}\n        </div>\n        :\n          null\n        }\n      </form>\n      <p className=\"login-link-text-color\">\n          Don't have an account?\n          <Link to={\"/signup\"}>Sign up</Link>\n      </p>\n      </section>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateBusinessRoute({ component: Component, isLoggedin,isBusinessAccount, ...rest }) {\n  \n  return (\n    <Route\n      {...rest}\n      render={props =>\n      {  if(!isLoggedin) {\n          return (<Redirect to=\"/login\"/>)\n        } else if (isLoggedin && isBusinessAccount) {\n          return (<Component {...props} />)\n        } else {\n          return (<Redirect to=\"/customer\"/>)\n        }\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateBusinessRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateCustomerRoute({ component: Component, isLoggedin,isBusinessAccount, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        {  if(!isLoggedin) {\n          return (<Redirect to=\"/login\"/>)\n        } else if (isLoggedin && !isBusinessAccount) {\n          return (<Component {...props} />)\n        } else {\n          return (<Redirect to=\"/business\"/>)\n        }\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateCustomerRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction AnonRoute({ component: Component, isLoggedin, isBusinessAccount, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if(!isLoggedin) {\n          return (<Component {...props}/>)\n        } else if (isLoggedin && isBusinessAccount) {\n          return (<Redirect to=\"/business\"/>)\n        } else {\n          return (<Redirect to=\"/customer\"/>)\n        }\n      }\n      }\n    />\n  );\n}\n\nexport default withAuth(AnonRoute);\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\n\nimport Navbar from \"./components/Navbar\";\nimport Business from \"./pages/Business/Business\";\nimport BusinessWorkerAdd from \"./pages/Business/components/BusinessWorkerAdd\";\nimport BusinessWorker from \"./pages/Business/components/BusinessWorker\";\nimport BusinessPromotionsAdd from \"./pages/Business/components/BusinessPromotionAdd\";\nimport BusinessPromotion from \"./pages/Business/components/BusinessPromotion\";\nimport Customer from \"./pages/Customer/Customer\";\nimport Promotions from \"./pages/Promotions/Promotions\";\nimport PromotionsProfile from \"./pages/Promotions/components/PromotionsProfile\";\nimport PromotionsWorkerProfile from \"./pages/Promotions/components/PromotionsWorkerProfile\";\nimport PromotionsGetPromo from \"./pages/Promotions/components/PromotionsGetPromo\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\n\nimport PrivateBusinessRoute from \"./components/PrivateBusinessRoute\";\nimport PrivateCustomerRoute from \"./components/PrivateCustomerRoute\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport AuthProvider from \"./lib/AuthProvider\";\n\nclass App extends Component {\n  render() {\n    return (\n      <AuthProvider>\n        <div className=\"container\">\n          <div className=\"bg-modal\"></div>\n          <Route path=\"/\" component={Navbar} />\n          <Switch>\n            <AnonRoute path=\"/\" component={Home} exact/>\n            <AnonRoute path=\"/signup\" component={Signup} exact/>\n            <AnonRoute path=\"/login\" component={Login} exact/>\n            <PrivateBusinessRoute path=\"/business\" component={Business} exact/>\n            <PrivateBusinessRoute path=\"/business/workers-add\" component={BusinessWorkerAdd} exact/>\n            <PrivateBusinessRoute path=\"/business/workers/:id\" component={BusinessWorker} exact/>\n            <PrivateBusinessRoute path=\"/business/promotions-add\" component={BusinessPromotionsAdd} exact/>\n            <PrivateBusinessRoute path=\"/business/promotions/:id\" component={BusinessPromotion} exact/>\n            <PrivateCustomerRoute path=\"/customer\" component={Customer} exact/>\n            <PrivateCustomerRoute path=\"/promotions\" component={Promotions} exact/>\n            <PrivateCustomerRoute path=\"/promotions/:id\" component={PromotionsProfile} exact/>\n            <PrivateCustomerRoute path=\"/promotions/:id/workers/:workerId\" component={PromotionsWorkerProfile} exact/>\n            <PrivateCustomerRoute path=\"/promotions/:id/promotions/:promoId\" component={PromotionsGetPromo} exact/>\n          </Switch>\n        </div>\n      </AuthProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport './css/main.css'\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}