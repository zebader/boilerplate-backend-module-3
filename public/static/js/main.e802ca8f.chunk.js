(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/male.a469d8a7.svg"},17:function(e,t,a){e.exports=a.p+"static/media/donut-shop.058a7548.svg"},27:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/addworker.b76f2aba.svg"},30:function(e,t,a){e.exports=a.p+"static/media/addpromo.cf9dfda5.svg"},31:function(e,t,a){e.exports=a.p+"static/media/promotion.5871cca3.svg"},32:function(e,t,a){e.exports=a.p+"static/media/wallet.f0136d23.svg"},33:function(e,t,a){e.exports=a(62)},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(28),r=a.n(o),l=a(66),i=a(2),c=a(3),u=a(5),m=a(4),p=a(6),d=a(67),h=a(68),g=a(13),b=a.n(g),f=new(function(){function e(){Object(i.a)(this,e),this.auth=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.email,s=e.location,o=e.userType;return this.auth.post("/auth/signup",{username:t,password:a,email:n,location:s,userType:o}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password,n=e.userType;return this.auth.post("/auth/login",{username:t,password:a,userType:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),E=s.a.createContext(),v=E.Consumer,y=E.Provider,k=function(e){return function(t){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement(v,null,function(a){return s.a.createElement(e,Object.assign({login:a.login,signup:a.signup,user:a.user,logout:a.logout,isLoggedin:a.isLoggedin,isBusinessAccount:a.isBusinessAccount},t.props))})}}]),a}(n.Component)},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedin:!1,isBusinessAccount:!1,user:null,isLoading:!0},a.signup=function(e){var t=e.username,n=e.password,s=e.email,o=e.location,r=e.userType;f.signup({username:t,password:n,email:s,location:o,userType:r}).then(function(e){"business"===e.userType?a.setState({isLoggedin:!0,user:e,isBusinessAccount:!0}):a.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;a.setState({message:t.statusMessage})})},a.login=function(e){var t=e.username,n=e.password,s=e.userType;console.log(s),f.login({username:t,userType:s,password:n}).then(function(e){"business"===e.userType?a.setState({isLoggedin:!0,user:e,isBusinessAccount:!0}):a.setState({isLoggedin:!0,user:e})}).catch(function(){})},a.logout=function(){f.logout().then(function(){a.setState({isLoggedin:!1,user:null,isBusinessAccount:!1})}).catch(function(){})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then(function(t){"business"===t.userType?e.setState({isLoggedin:!0,user:t,isLoading:!1,isBusinessAccount:!0}):e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,o=e.isBusinessAccount;return t?s.a.createElement("div",null,"Loading"):s.a.createElement(y,{value:{isLoggedin:a,isBusinessAccount:o,user:n,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(n.Component),O=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).goBack=function(){a.props.history.goBack()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout),a=e.isLoggedin;return s.a.createElement("div",{className:"logout-navbar"},a?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"https://www.shareicon.net/download/2016/07/10/119999_arrows.ico",onClick:this.goBack}),s.a.createElement("h2",null,"TippJar"),s.a.createElement("img",{src:"https://static.thenounproject.com/png/205237-200.png",onClick:t})):null)}}]),t}(n.Component)),N=a(8),j=a(64),C=(a(27),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).numberToStar=function(){var e=a.props._id.toString(),t=document.getElementById(e);console.log("id",t),1===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605</span>":2===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605</span>":3===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605</span>":4===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605\u2605</span>":5===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605\u2605\u2605</span>":0===a.props.rating&&(t.innerHTML="Rating: No rating yet</span>")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.numberToStar()}},{key:"render",value:function(){return s.a.createElement("article",{className:"worker-card"},s.a.createElement("div",{className:"worker-card-wrapper"},s.a.createElement("div",{className:"worker-card-img"},s.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),s.a.createElement("div",{className:"worker-card-info"},s.a.createElement("h4",null,this.props.name),s.a.createElement("h5",null,this.props.type),s.a.createElement("p",{id:this.props._id}),s.a.createElement("p",null,"Total Tips: ",this.props.tips," \u20ac"))))}}]),t}(n.Component)),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("article",{className:"worker-card"},s.a.createElement("div",{className:"worker-card-wrapper"},s.a.createElement("div",{className:"worker-card-img"},s.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),s.a.createElement("div",{className:"worker-card-info"},s.a.createElement("h4",null,this.props.name),s.a.createElement("h5",null,this.props.type),s.a.createElement("p",null,"Points to Unlock : ",this.props.pointsToUnlock))))}}]),t}(n.Component),U=a(7),L=new(function(){function e(){Object(i.a)(this,e),this.business=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(c.a)(e,[{key:"getBusiness",value:function(){return this.business.get("/business").then(function(e){return e.data})}},{key:"updateBusiness",value:function(e){return this.business.put("/business/update",e).then(function(e){return e.data})}},{key:"getAWorker",value:function(e){return this.business.get("/business/workers/".concat(e)).then(function(e){return e.data})}},{key:"addWorker",value:function(e){return this.business.post("/business/workers-add",e).then(function(e){return e.data})}},{key:"updateWorker",value:function(e,t){return this.business.put("/business/workers/".concat(t,"/update"),e).then(function(e){return e.data})}},{key:"deleteWorker",value:function(e){return this.business.delete("/business/workers/".concat(e,"/delete")).then(function(e){return e.data})}},{key:"getAPromotion",value:function(e){return this.business.get("/business/promotions/".concat(e)).then(function(e){return e.data})}},{key:"addPromotion",value:function(e){return this.business.post("/business/promotions-add",e).then(function(e){return e.data})}},{key:"updatePromotion",value:function(e,t){return this.business.put("/business/promotions/".concat(t,"/update"),e).then(function(e){return e.data})}},{key:"deletePromotion",value:function(e){return this.business.delete("/business/promotions/".concat(e,"/delete")).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.business.post("/business/image",e).then(function(e){return e.data})}}]),e}()),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.location,o=t.imgUrl;L.updateBusiness({username:n,location:s,imgUrl:o}).then(function(e){a.setState({imgUrl:e.imgUrl,showModal:!1}),document.querySelector(".bg-modal").style.display="none"}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.toggleModal=function(){a.setState({showModal:!a.state.showModal});var e=document.querySelector(".bg-modal");"block"===e.style.display?e.style.display="none":e.style.display="block"},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.style=function(){return{color:"white",background:"#e20088",borderRadius:"50%",width:"20px",height:"20px",display:"inline-block",textAlign:"center",lineHeight:"20px"}},a.state={username:"",imgUrl:"",location:"",numberOfWorkers:0,numberOfPromotions:0,showModal:!1,disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.getBusiness().then(function(t){var a=t;e.setState(Object(N.a)({numberOfWorkers:a.workers.length,numberOfPromotions:a.promotions.length},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"business-card-page"},s.a.createElement("div",{className:"business-card-wrapper"},s.a.createElement("img",{src:"https://www.pngrepo.com/png/156718/170/pencil-hand-drawn-tool-outline.png",onClick:this.toggleModal,className:"edit-button"}),s.a.createElement("div",{className:"business-card-img"},s.a.createElement("img",{src:this.state.imgUrl,alt:this.state.username})),s.a.createElement("div",{className:"business-card-data-wrapper"},s.a.createElement("div",{className:"business-card-title"},s.a.createElement("h3",null,this.state.username),s.a.createElement("p",{style:{color:"#c7c7c7"}},this.state.location)),s.a.createElement("div",{className:"business-card-data"},s.a.createElement("p",null,"Workers: ",s.a.createElement("span",{style:this.style()},this.state.numberOfWorkers)," "),s.a.createElement("p",null,"Promotions: ",s.a.createElement("span",{style:this.style()},this.state.numberOfPromotions)," ")))),this.state.showModal?s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"modal-edit-form"},s.a.createElement("h3",null,"Update Business"),s.a.createElement("span",{className:"close-button",onClick:this.toggleModal},"x"),s.a.createElement("div",{className:"inputfile-wrapper"},s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:this.state.imgUrl})),s.a.createElement("p",null,"Update picture")))),s.a.createElement("label",null,"Your business name:"),s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),s.a.createElement("label",null,"Your business location:"),s.a.createElement("input",{type:"text",name:"location",value:this.state.location,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Update!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Update!",className:"form-button-business"})):null)}}]),t}(n.Component),B=a(29),M=a.n(B),T=a(30),P=a.n(T),D=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",email:"",imgUrl:"",location:"",promotions:[],userType:"business",workers:[],toggleWorker:!0,togglePromotion:!1},a.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.toggleWorker=function(){a.setState({toggleWorker:!0,togglePromotion:!1})},a.togglePromotion=function(){a.setState({toggleWorker:!1,togglePromotion:!0})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),L.getBusiness().then(function(t){var a=t;e.setState(Object(N.a)({},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state;return s.a.createElement("main",{className:"business-page"},this.state.toggleWorker?s.a.createElement(j.a,{to:"/business/workers-add",className:"worker-add-button"},s.a.createElement("img",{src:M.a,alt:""})):s.a.createElement(j.a,{to:"/business/promotions-add",className:"promotion-add-button"},s.a.createElement("img",{src:P.a,alt:""})),s.a.createElement(x,e),s.a.createElement("div",{className:"business-page-togglebuttons"},s.a.createElement("div",{className:"business-page-buttonworkers",onClick:this.toggleWorker},s.a.createElement("h4",null," WORKERS "),this.state.toggleWorker?s.a.createElement("div",{className:"selected-button"}," "):s.a.createElement("div",{className:"noselected-button"}," ")),s.a.createElement("div",{className:"business-page-buttonpromotions",onClick:this.togglePromotion},s.a.createElement("h4",null," PROMOTIONS "),this.state.togglePromotion?s.a.createElement("div",{className:"selected-button"}," "):s.a.createElement("div",{className:"noselected-button"}," "))),this.state.toggleWorker?e.workers.map(function(e){return s.a.createElement(j.a,{to:"/business/workers/".concat(e._id),key:e._id,className:"worker-card-link"},s.a.createElement(C,e))}):e.promotions.map(function(e){return s.a.createElement(j.a,{to:"/business/promotions/".concat(e._id),key:e._id,className:"worker-card-link"},s.a.createElement(S,e))}))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,s=t.type,o=t.imgUrl;L.addWorker({name:n,type:s,imgUrl:o}).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.closeModal=function(){a.props.history.push("/business")},a.state={imgUrl:"",name:"",type:"",disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){return s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h3",null,"Add a worker"),s.a.createElement("span",{className:"close-button",onClick:this.closeModal},"x"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img "},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:this.state.imgUrl})),s.a.createElement("p",null,"Update picture"))),s.a.createElement("label",null,"Your worker name:"),s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("label",null,"Your worker position:"),s.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Add Worker!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Add Worker!",className:"form-button-business"})))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,s=n.name,o=n.type,r=n.imgUrl;L.updateWorker({name:s,type:o,imgUrl:r},t).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.deleteWorker=function(){var e=a.props.match.params.id;L.deleteWorker(e).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.closeModal=function(){a.props.history.push("/business")},a.state={imgUrl:"",name:"",type:"",rating:0,tips:0,disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),L.getAWorker(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(N.a)({},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h3",null,"Add a promotion"),s.a.createElement("span",{className:"close-button",onClick:this.closeModal},"x"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img "},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:this.state.imgUrl})),s.a.createElement("p",null,"Update picture"))),s.a.createElement("label",null,"Your worker name:"),s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("label",null,"Your worker position:"),s.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Update Worker!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Update Worker!",className:"form-button-business"}),s.a.createElement("input",{onClick:function(){return e.deleteWorker()},type:"submit",value:"delete",className:"form-button-delete"})))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,s=t.type,o=t.pointsToUnlock,r=t.imgUrl;L.addPromotion({name:n,type:s,pointsToUnlock:o,imgUrl:r}).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.closeModal=function(){a.props.history.push("/business")},a.state={imgUrl:"",name:"",type:"",pointsToUnlock:0,disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){return s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h3",null,"Add a promotion"),s.a.createElement("span",{className:"close-button",onClick:this.closeModal},"x"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img "},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:this.state.imgUrl})),s.a.createElement("p",null,"Update picture"))),s.a.createElement("label",null,"Promotion name:"),s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("label",null,"Promotion type:"),s.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),s.a.createElement("label",null,"Points to unlock promotion::"),s.a.createElement("input",{type:"number",name:"pointsToUnlock",value:this.state.pointsToUnlock,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Add Promo!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Add Promo!",className:"form-button-business"})))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,s=n.name,o=n.type,r=n.pointsToUnlock,l=n.imgUrl;L.updatePromotion({name:s,type:o,pointsToUnlock:r,imgUrl:l},t).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.deletePromotion=function(){var e=a.props.match.params.id;L.deletePromotion(e).then(function(){a.props.history.push("/business")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.closeModal=function(){a.props.history.push("/business")},a.state={imgUrl:"",name:"",type:"",pointsToUnlock:0,disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),L.getAPromotion(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(N.a)({},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h3",null,"Update promotion"),s.a.createElement("span",{className:"close-button",onClick:this.closeModal},"x"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img "},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:this.state.imgUrl})),s.a.createElement("p",null,"Update picture"))),s.a.createElement("label",null,"Promotion name:"),s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("label",null,"Promotion type:"),s.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),s.a.createElement("label",null,"Points to unlock promotion::"),s.a.createElement("input",{type:"number",name:"pointsToUnlock",value:this.state.pointsToUnlock,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Update Promo!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Update Promo!",className:"form-button-business"}),s.a.createElement("input",{onClick:function(){return e.deletePromotion()},type:"submit",value:"delete",className:"form-button-delete"})))}}]),t}(n.Component),R=new(function(){function e(){Object(i.a)(this,e),this.customer=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(c.a)(e,[{key:"getCustomer",value:function(){return this.customer.get("/customer").then(function(e){return e.data})}},{key:"updateCustomer",value:function(e){return this.customer.put("/customer/update",e).then(function(e){return e.data})}},{key:"updateWallet",value:function(e){return this.customer.put("/customer/wallet/update",e).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.customer.post("/business/image",e).then(function(e){return e.data})}}]),e}()),_=a(15),q=a.n(_),z=a(31),Y=a.n(z),J=a(32),G=a.n(J),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.balance;R.updateWallet({balance:t}).then(function(e){var t=e.customer.balance;a.setState({showModal:!a.state.showModal,balance:t}),a.props.updateBalance(t)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.toggleModal=function(){a.setState({showModal:!a.state.showModal})},a.state={balance:0,showModal:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"bottom-navbar-wrapper"},this.state.showModal?s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-wallet"},s.a.createElement("span",{className:"close-button",onClick:this.toggleModal},"x"),s.a.createElement("label",null,"Add $ to your wallet:"),s.a.createElement("input",{type:"number",name:"balance",value:this.state.balance,onChange:this.handleChange,min:"0"}),s.a.createElement("button",{type:"submit",value:"ADD \u20ac",className:"form-button-customer paypal-wrapper"},s.a.createElement("img",{src:"http://nuamedia.com.au/wp-content/uploads/2019/02/paypal-logo.png",alt:"",className:"paypal"}),s.a.createElement("p",null,"ADD CASH"))):null,s.a.createElement(j.a,{to:"/customer"},s.a.createElement("button",null,s.a.createElement("img",{src:q.a,alt:""}))),s.a.createElement("button",{onClick:this.toggleModal,className:"wallet-button"},s.a.createElement("img",{src:G.a,alt:""}),s.a.createElement("p",null,this.props.balance,"\u20ac ")),s.a.createElement(j.a,{to:"/promotions"},s.a.createElement("button",null,s.a.createElement("img",{src:Y.a,alt:""}))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.location,o=t.imgUrl;R.updateCustomer({username:n,location:s,imgUrl:o}).then(function(e){console.log(e),a.setState({imgUrl:e.imgUrl,showModal:!1}),document.querySelector(".bg-modal").style.display="none"}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.toggleModal=function(){a.setState({showModal:!a.state.showModal});var e=document.querySelector(".bg-modal");"block"===e.style.display?e.style.display="none":e.style.display="block"},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),R.imageUpload(n).then(function(e){a.setState({imgUrl:e,disable:!1})}).catch(function(e){return console.log(e)})},a.style=function(){return{color:"white",background:"#ff6126",borderRadius:"50%",width:"20px",height:"20px",display:"inline-block",textAlign:"center",lineHeight:"20px"}},a.state={username:"",imgUrl:"",location:"",balance:"",numberOfPromotions:0,showModal:!1,disable:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;R.getCustomer().then(function(t){console.log(t);var a=t;e.setState(Object(N.a)({numberOfPromotions:a.pinnedbusiness.length},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.imgUrl,n=e.location,o=(e.balance,e.numberOfPromotions);return s.a.createElement("div",{className:"customer-card-page"},s.a.createElement("div",{className:"business-card-wrapper"},s.a.createElement("img",{src:"https://www.pngrepo.com/png/156718/170/pencil-hand-drawn-tool-outline.png",onClick:this.toggleModal,className:"edit-button"}),s.a.createElement("div",{className:"business-card-img"},s.a.createElement("img",{src:a,alt:t})),s.a.createElement("div",{className:"business-card-data-wrapper"},s.a.createElement("div",{className:"business-card-title"},s.a.createElement("h3",null,t),s.a.createElement("p",{style:{color:"#c7c7c7"}},n)),s.a.createElement("div",{className:"business-card-data"},s.a.createElement("p",null,"Balance: ",s.a.createElement("span",{style:this.style()},this.props.balance)),s.a.createElement("p",null,"Promotions: ",s.a.createElement("span",{style:this.style()},o))))),this.state.showModal?s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"modal-edit-form"},s.a.createElement("h3",null,"Update profile"),s.a.createElement("span",{className:"close-button",onClick:this.toggleModal},"x"),s.a.createElement("div",{className:"inputfile-wrapper"},s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:this.fileOnchange,className:"inputfile"}),s.a.createElement("label",{htmlFor:"file"},this.state.disable?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:"https://www.camisetascatedrales.com/wp-content/uploads/2018/04/upload-cloud-outline.png",className:"disabled-upload-img",alt:""})),s.a.createElement("p",null,"Upload a picture")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"profile-card-img"},s.a.createElement("img",{src:a})),s.a.createElement("p",null,"Update picture")))),s.a.createElement("label",null,"Your name:"),s.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),s.a.createElement("label",null,"Your location:"),s.a.createElement("input",{type:"text",name:"location",value:n,onChange:this.handleChange}),this.state.disable?s.a.createElement("input",{type:"submit",value:"Update!",disabled:!0,className:"form-button-disabled"}):s.a.createElement("input",{type:"submit",value:"Update!",className:"form-button-customer"})):null)}}]),t}(n.Component),Z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("article",{className:"worker-card"},s.a.createElement("div",{className:"worker-card-wrapper"},s.a.createElement("div",{className:"worker-card-img"},s.a.createElement("img",{src:this.props.business.imgUrl,alt:this.props.business.name})),s.a.createElement("div",{className:"worker-card-info"},s.a.createElement("h4",{style:{color:"#ff6126"}},this.props.business.username),s.a.createElement("h5",null,this.props.business.location),s.a.createElement("p",null,"Total points: ",this.props.points))))}}]),t}(n.Component),X=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",email:"",imgUrl:"",location:"",balance:0,pinnedbusiness:null,userType:"customer",loading:!0,numberOfPromotions:0},a.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.updateBalance=function(e){a.setState({balance:e})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),R.getCustomer().then(function(t){var a=t;e.setState(Object(N.a)({},a,{loading:!1,numberOfPromotions:t.pinnedbusiness.length}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.pinnedbusiness,a=e.loading;return s.a.createElement("main",null,s.a.createElement(H,Object.assign({},this.state,{updateBalance:this.updateBalance})),s.a.createElement("section",{className:"customer-page"},a?null:s.a.createElement(Q,this.state),s.a.createElement("div",{className:"customer-page-togglebuttons"},s.a.createElement("div",{className:"customer-page-buttonworkers"},s.a.createElement("h4",null," Your tipped places: "),s.a.createElement("div",{className:"selected-button-customer"}))),t?t.map(function(e){return s.a.createElement(j.a,{to:"/promotions/".concat(e.business._id),key:e.business._id,className:"worker-card-link"},s.a.createElement(Z,e))}):s.a.createElement("h3",null,"You haven\xb4t tipped yet")))}}]),t}(n.Component)),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).style=function(){return{color:"white",background:"#ff6126",borderRadius:"50%",width:"20px",height:"20px",display:"inline-block",textAlign:"center",lineHeight:"20px"}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("article",{className:"worker-card"},s.a.createElement("div",{className:"worker-card-wrapper"},s.a.createElement("div",{className:"worker-card-img"},s.a.createElement("img",{src:this.props.imgUrl,alt:this.props.username})),s.a.createElement("div",{className:"worker-card-info"},s.a.createElement("h4",{style:{color:"#ff6126"}},this.props.username),s.a.createElement("h5",null,this.props.location),s.a.createElement("p",null,s.a.createElement("span",{style:this.style()},this.props.promotions.length)," promociones"))))}}]),t}(n.Component),K=new(function(){function e(){Object(i.a)(this,e),this.promotions=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(c.a)(e,[{key:"getPromotions",value:function(){return this.promotions.get("/promotions").then(function(e){return e.data})}},{key:"getAPromotion",value:function(e){return this.promotions.get("/promotions/".concat(e)).then(function(e){return e.data})}},{key:"getAPromotionsWorker",value:function(e,t){return this.promotions.get("/promotions/".concat(t,"/workers/").concat(e)).then(function(e){return e.data})}},{key:"updateTipWorker",value:function(e,t,a){return this.promotions.put("/promotions/".concat(a,"/workers/").concat(t,"/rate"),e).then(function(e){return e.data})}},{key:"getAPromotionsPromo",value:function(e,t){return this.promotions.get("/promotions/".concat(t,"/promotions/").concat(e)).then(function(e){return e.data})}},{key:"claimPromotion",value:function(e,t){return this.promotions.put("/promotions/".concat(t,"/promotions/").concat(e,"/rate")).then(function(e){return e.data})}}]),e}()),$=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={AllPromotions:null,userType:"customer",balance:0},a.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-black"),e.classList.remove("signup-bg-color-business")},a.updateBalance=function(e){a.setState({balance:e})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),K.getPromotions().then(function(t){R.getCustomer().then(function(a){var n=t;e.setState({AllPromotions:n,balance:a.balance})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.AllPromotions;return s.a.createElement("main",null,s.a.createElement(H,Object.assign({},this.state,{updateBalance:this.updateBalance})),s.a.createElement("section",{className:"promotions-page"},s.a.createElement("h1",{style:{textAlign:"center"}},"Tip and win!"),s.a.createElement("div",{className:"customer-page-togglebuttons"},s.a.createElement("div",{className:"customer-page-buttonworkers"},s.a.createElement("h4",null," All promotions: "),s.a.createElement("div",{className:"selected-button-customer"}," "))),e?e.map(function(e){return s.a.createElement(j.a,{to:"/promotions/".concat(e._id),key:e._id,className:"worker-card-link"},s.a.createElement(V,e))}):s.a.createElement("h3",null,"There are no Promotions")))}}]),t}(n.Component)),ee=(a(59),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).numberToStar=function(){var e=a.props._id.toString(),t=document.getElementById(e);1===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605</span>":2===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605</span>":3===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605</span>":4===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605\u2605</span>":5===a.props.rating?t.innerHTML="Rating: <span style='color:#ff9d2f;font-size:1.5em;'>\u2605\u2605\u2605\u2605\u2605</span>":0===a.props.rating&&(t.innerHTML="Rating: No rating yet</span>")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.numberToStar()}},{key:"render",value:function(){return s.a.createElement("article",{className:"worker-card"},s.a.createElement("div",{className:"worker-card-wrapper"},s.a.createElement("div",{className:"worker-card-img"},s.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),s.a.createElement("div",{className:"worker-card-info"},s.a.createElement("h4",{style:{color:"#ff6126"}},this.props.name),s.a.createElement("h5",null,this.props.type),s.a.createElement("p",{id:this.props._id}))))}}]),t}(n.Component)),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).promoPosition=function(e){var t=Math.floor(a.props.pointsToUnlock/a.props.totalPoints*100),n=(t-10).toString()+"%",s=!1;return a.props.userID.map(function(e){if(e===a.props.customerID)return s=!0}),a.props.userPoints<a.props.pointsToUnlock?t>=85?{left:"82%",position:"absolute",pointerEvents:"none",background:"rgb(238, 238, 238)",borderRadius:"10px 10px 70px 70px",padding:" 5px"}:{left:n,position:"absolute",pointerEvents:"none",background:"rgb(238, 238, 238)",borderRadius:"10px 10px 70px 70px",padding:" 5px"}:s?{left:n,position:"absolute",pointerEvents:"none",background:"rgb(238, 238, 238)",borderRadius:"10px 10px 70px 70px",padding:" 5px"}:t>=85?{left:"85%",position:"absolute",background:"rgb(166, 255, 182)",borderRadius:"10px 10px 70px 70px",padding:" 5px"}:{left:n,position:"absolute",background:"rgb(166, 255, 182)",borderRadius:"10px 10px 70px 70px",padding:" 5px"}},a.avPromotion=function(){var e=a.props._id.toString(),t=document.getElementById(e),n=!1;if(a.props.userID.map(function(e){if(e===a.props.customerID)return n=!0}),a.props.userPoints>a.props.pointsToUnlock&&!n)return console.log("dentro",n),t.classList.add("pulse");n&&(t.classList.remove("pulse"),t.classList.add("test"))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.promoPosition(),this.avPromotion()}},{key:"render",value:function(){return s.a.createElement("div",{style:this.promoPosition()},s.a.createElement("p",null,this.props.name),s.a.createElement("div",{className:"promo-img-frame",id:this.props._id},s.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name,className:"promo-img"})),s.a.createElement("p",{style:{textAlign:"center"}},this.props.pointsToUnlock),s.a.createElement("p",{style:{textAlign:"center"}},"\u2bc6"))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.TotalPoints=function(e){var t=e.promotions,a=0;return t.map(function(e){a<=e.pointsToUnlock&&(a=e.pointsToUnlock)}),a},a.updateBalance=function(e){a.setState({balance:e})},a.setPointsPosition=function(){document.querySelector(".points-progress-bar").style.width=a.state.progressBar},a.state={username:"",email:"",imgUrl:"",location:"",promotions:[],workers:[],totalPoints:0,userPoints:0,balance:0,progressBar:"",customerID:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault(),K.getAPromotion(this.props.match.params.id).then(function(t){R.getCustomer().then(function(a){var n=e.TotalPoints(t),s=0;a.pinnedbusiness.map(function(e){if(e.business._id===t._id)return s=e.points});var o=Math.floor(s/n*100).toString()+"%";e.setState(Object(N.a)({},t,{totalPoints:n,userPoints:s,balance:a.balance,progressBar:o,customerID:a._id})),e.setPointsPosition()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.imgUrl,o=t.location,r=t.promotions,l=t.workers,i=t.totalPoints,c=t.userPoints,u=t.customerID;return s.a.createElement("section",null,s.a.createElement(H,Object.assign({},this.state,{updateBalance:this.updateBalance})),s.a.createElement("article",{className:"promotions-profile"},s.a.createElement("div",{className:"promotions-profile-wrapper"},s.a.createElement("div",{className:"promotions-profile-img"},s.a.createElement("img",{src:n,alt:a})),s.a.createElement("div",{className:"promotions-profile-info"},s.a.createElement("h3",null,a),s.a.createElement("h5",null,o),s.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/149/149984.svg",onClick:this.toggleModal,className:"edit-button-promo-profile "}))),s.a.createElement("div",{className:"promotion-bar-card"},s.a.createElement("h4",null," Avaliable promotions: "),r.map(function(t){return s.a.createElement(j.a,{key:t._id,to:"/promotions/".concat(e.props.match.params.id,"/promotions/").concat(t._id),className:"promo-img-frame-wrapper"},s.a.createElement(te,Object.assign({},t,{totalPoints:i,userPoints:c,customerID:u})))}),s.a.createElement("div",{className:"points-progress-bar-wrapper"},s.a.createElement("div",{className:"points-progress-bar"},s.a.createElement("div",{className:"points-progress-bar-anim"})))),s.a.createElement("div",{className:"customer-page-togglebuttons"},s.a.createElement("div",{className:"customer-page-buttonworkers"},s.a.createElement("h4",null," Tip a worker: "),s.a.createElement("div",{className:"selected-button-customer"}," "))),l.map(function(t){return s.a.createElement(j.a,{to:"/promotions/".concat(e.props.match.params.id,"/workers/").concat(t._id,"/"),key:t._id,className:"worker-card-link"},s.a.createElement(ee,t))})))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.workerId,s=t.id,o=a.state,r=o.tips,l=o.rating,i=100*r;K.updateTipWorker({tips:r,rating:l,points:i},n,s).then(function(){a.props.history.goBack()}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.closeModal=function(){a.props.history.push("/promotions/".concat(a.state.id))},a.style=function(){return{color:"white",background:"#ff6126",borderRadius:"50%",width:"20px",height:"20px",display:"inline-block",textAlign:"center",lineHeight:"20px"}},a.state={imgUrl:"",name:"",type:"",rating:0,tips:0,workerId:a.props.match.params.workerId,id:a.props.match.params.id,balance:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault();var t=this.state,a=t.workerId,n=t.id;K.getAPromotionsWorker(a,n).then(function(t){R.getCustomer().then(function(a){var n=t.imgUrl,s=t.name,o=t.type;e.setState({imgUrl:n,name:s,type:o,balance:a.balance})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log(this.state),s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"modal-edit-form"},s.a.createElement("span",{className:"close-button",onClick:this.closeModal},"x"),s.a.createElement("h3",{style:{textAlign:"center"}},"TIP ",this.state.name," !"),s.a.createElement("div",null,s.a.createElement("div",{className:"profile-card-img",style:{left:"50%",transform:"translateX(-50%)",margin:"5% 0"}},s.a.createElement("img",{src:this.state.imgUrl}))),s.a.createElement("p",{style:{textAlign:"center"}},"Your balance is: ",s.a.createElement("span",{style:this.style()},this.state.balance),"\u20ac"),s.a.createElement("input",{type:"number",name:"tips",value:this.state.tips,onChange:this.handleChange,max:this.state.balance}),s.a.createElement("label",null,"Rating:"),s.a.createElement("div",{className:"rating-wrapper"},s.a.createElement("div",{className:"rating"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"rating",value:"1",onChange:this.handleChange}),s.a.createElement("span",{className:"icon"},"\u2605")),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"rating",value:"2",onChange:this.handleChange}),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605")),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"rating",value:"3",onChange:this.handleChange}),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605")),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"rating",value:"4",onChange:this.handleChange}),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605")),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"rating",value:"5",onChange:this.handleChange}),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605"),s.a.createElement("span",{className:"icon"},"\u2605")))),s.a.createElement("input",{type:"submit",value:"TIP !",className:"form-button-customer button-no-bottom"})))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("business-bg-color"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.promoId,s=t.id;K.claimPromotion(n,s).then(function(){a.props.history.goBack()}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a.state={imgUrl:"",name:"",type:"",rating:0,tips:0,promoId:a.props.match.params.promoId,id:a.props.match.params.id},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bodyBgDefault();var t=this.state,a=t.promoId,n=t.id;K.getAPromotionsPromo(a,n).then(function(t){var a=t;e.setState(Object(N.a)({},a))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return s.a.createElement("article",{className:"worker-profile"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"promotion-get-wrapper"},s.a.createElement("h3",null,this.state.name),s.a.createElement("div",{className:"profile-card-img",style:{left:"50%",transform:"translateX(-50%)",margin:"5% 0"}},s.a.createElement("img",{src:this.state.imgUrl,alt:""}))),s.a.createElement("input",{type:"submit",value:"GET PROMO!",className:"form-button-customer button-no-bottom"})))}}]),t}(n.Component),oe=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){return s.a.createElement("div",{className:"home-splash-wrapper"},s.a.createElement("div",{className:"home-splash-title"},s.a.createElement("img",{src:"https://cdn.2kgames.com/2019/03/29/5c9e4c5cc8eccBL3_logo.png",alt:""})),s.a.createElement("div",{className:"home-splash-description"},s.a.createElement("img",{src:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/c25a34d3-beb0-44ae-8a1d-d442502cb59d/dbg2gy3-e0412cb4-31d3-4007-ae09-f79cf53aa699.png/v1/fill/w_894,h_894,strp/rick_icon_by_niorunn_dbg2gy3-pre.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTYwMCIsInBhdGgiOiJcL2ZcL2MyNWEzNGQzLWJlYjAtNDRhZS04YTFkLWQ0NDI1MDJjYjU5ZFwvZGJnMmd5My1lMDQxMmNiNC0zMWQzLTQwMDctYWUwOS1mNzljZjUzYWE2OTkucG5nIiwid2lkdGgiOiI8PTE2MDAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.IHhZCkjOSUblG0Qr6mjdI-ZF9GJ5JJg4sKUG3p51EKU",alt:""})),s.a.createElement("div",{className:"home-splash-buttons"},s.a.createElement(j.a,{to:"/signup"},s.a.createElement("button",{className:"home-button-signup"},"SIGN UP")),s.a.createElement("p",{className:"login-link-text-color"},"Already have an account,",s.a.createElement(j.a,{to:"/login"},"LOG IN"))))}}]),t}(n.Component)),re=a(17),le=a.n(re),ie=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",email:"",location:"",userType:""},a.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.bodyBgBusiness=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-business"),e.classList.remove("signup-bg-color-customer")},a.bodyBgCustomer=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password,o=t.email,r=t.location,l=t.userType;a.props.signup({username:n,password:s,email:o,location:r,userType:l})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.email,o=e.location;return s.a.createElement("section",{className:"signup-wrapper"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h1",null,"Sign up"),s.a.createElement("h4",null,"Choose your type of user"),s.a.createElement("div",{className:"radio-wrapper"},s.a.createElement("label",{className:"radio-checked"},s.a.createElement("input",{type:"radio",name:"userType",placeholder:"customer",value:"customer",onChange:this.handleChange}),s.a.createElement("span",{className:"checkmark-customer",onClick:this.bodyBgCustomer},s.a.createElement("img",{src:q.a,alt:""}),s.a.createElement("h4",null,"I am a Customer"))),s.a.createElement("label",{className:"radio-checked"},s.a.createElement("input",{type:"radio",name:"userType",placeholder:"business",value:"business",onChange:this.handleChange}),s.a.createElement("span",{className:"checkmark-business",onClick:this.bodyBgBusiness},s.a.createElement("img",{src:le.a,alt:""}),s.a.createElement("h4",null,"I am a Business")))),""!==this.state.userType?s.a.createElement("div",null,"business"===this.state.userType?s.a.createElement("h4",{style:{color:"#ff2f2f"}},"Add workers and create promotions"):s.a.createElement("h4",{style:{color:"#ff9d2f"}},"Tip workers and get promotions!"),"business"===this.state.userType?s.a.createElement("label",null,"Business name:"):s.a.createElement("label",null,"Customer name:"),s.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Email:"),s.a.createElement("input",{type:"text",name:"email",value:n,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Location:"),s.a.createElement("input",{type:"text",name:"location",value:o,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,required:!0}),"business"===this.state.userType?s.a.createElement("input",{type:"submit",value:"SIGN UP",className:"form-button-business"}):s.a.createElement("input",{type:"submit",value:"SIGN UP",className:"form-button-customer"})):null),s.a.createElement("p",{className:"login-link-text-color"},"Already have account?",s.a.createElement(j.a,{to:"/login"},"Login")))}}]),t}(n.Component)),ce=k(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",userType:""},a.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.bodyBgBusiness=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-business"),e.classList.remove("signup-bg-color-customer")},a.bodyBgCustomer=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password,o=t.userType;a.props.login({username:n,password:s,userType:o})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(U.a)({},n,s))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return s.a.createElement("section",{className:"signup-wrapper"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("h1",null,"Log in"),s.a.createElement("h4",null,"Choose your type of user"),s.a.createElement("div",{className:"radio-wrapper"},s.a.createElement("label",{className:"radio-checked"},s.a.createElement("input",{type:"radio",name:"userType",placeholder:"customer",value:"customer",onChange:this.handleChange}),s.a.createElement("span",{className:"checkmark-customer",onClick:this.bodyBgCustomer},s.a.createElement("img",{src:q.a,alt:""}),s.a.createElement("h4",null,"I am a Customer"))),s.a.createElement("label",{className:"radio-checked"},s.a.createElement("input",{type:"radio",name:"userType",placeholder:"business",value:"business",onChange:this.handleChange}),s.a.createElement("span",{className:"checkmark-business",onClick:this.bodyBgBusiness},s.a.createElement("img",{src:le.a,alt:""}),s.a.createElement("h4",null,"I am a Business")))),""!==this.state.userType?s.a.createElement("div",null,"business"===this.state.userType?s.a.createElement("label",null,"Business name:"):s.a.createElement("label",null,"Customer name:"),s.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),"business"===this.state.userType?s.a.createElement("input",{type:"submit",value:"LOG IN",className:"form-button-business"}):s.a.createElement("input",{type:"submit",value:"LOG IN",className:"form-button-customer"})):null),s.a.createElement("p",{className:"login-link-text-color"},"Don't have an account?",s.a.createElement(j.a,{to:"/signup"},"Sign up")))}}]),t}(n.Component)),ue=a(16),me=a(65);var pe=k(function(e){var t=e.component,a=e.isLoggedin,n=e.isBusinessAccount,o=Object(ue.a)(e,["component","isLoggedin","isBusinessAccount"]);return s.a.createElement(d.a,Object.assign({},o,{render:function(e){return a?a&&n?s.a.createElement(t,e):s.a.createElement(me.a,{to:"/customer"}):s.a.createElement(me.a,{to:"/login"})}}))});var de=k(function(e){var t=e.component,a=e.isLoggedin,n=e.isBusinessAccount,o=Object(ue.a)(e,["component","isLoggedin","isBusinessAccount"]);return s.a.createElement(d.a,Object.assign({},o,{render:function(e){return a?a&&!n?s.a.createElement(t,e):s.a.createElement(me.a,{to:"/business"}):s.a.createElement(me.a,{to:"/login"})}}))});var he=k(function(e){var t=e.component,a=e.isLoggedin,n=e.isBusinessAccount,o=Object(ue.a)(e,["component","isLoggedin","isBusinessAccount"]);return s.a.createElement(d.a,Object.assign({},o,{render:function(e){return a?a&&n?s.a.createElement(me.a,{to:"/business"}):s.a.createElement(me.a,{to:"/customer"}):s.a.createElement(t,e)}}))}),ge=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(w,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"bg-modal"}),s.a.createElement(d.a,{path:"/",component:O}),s.a.createElement(h.a,null,s.a.createElement(he,{path:"/",component:oe,exact:!0}),s.a.createElement(he,{path:"/signup",component:ie,exact:!0}),s.a.createElement(he,{path:"/login",component:ce,exact:!0}),s.a.createElement(pe,{path:"/business",component:D,exact:!0}),s.a.createElement(pe,{path:"/business/workers-add",component:A,exact:!0}),s.a.createElement(pe,{path:"/business/workers/:id",component:I,exact:!0}),s.a.createElement(pe,{path:"/business/promotions-add",component:F,exact:!0}),s.a.createElement(pe,{path:"/business/promotions/:id",component:W,exact:!0}),s.a.createElement(de,{path:"/customer",component:X,exact:!0}),s.a.createElement(de,{path:"/promotions",component:$,exact:!0}),s.a.createElement(de,{path:"/promotions/:id",component:ae,exact:!0}),s.a.createElement(de,{path:"/promotions/:id/workers/:workerId",component:ne,exact:!0}),s.a.createElement(de,{path:"/promotions/:id/promotions/:promoId",component:se,exact:!0}))))}}]),t}(n.Component);a(61);r.a.render(s.a.createElement(l.a,null,s.a.createElement(ge,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e802ca8f.chunk.js.map