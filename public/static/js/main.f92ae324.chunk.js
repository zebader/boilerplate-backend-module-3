(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){},29:function(e,t,n){},32:function(e,t,n){e.exports=n(78)},56:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),s=n.n(r),i=n(82),c=n(2),l=n(3),u=n(5),m=n(4),p=n(6),h=n(84),d=n(14),b=n.n(d),g=new(function(){function e(){Object(c.a)(this,e),this.auth=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password,a=e.email,o=e.location,r=e.userType;return this.auth.post("/auth/signup",{username:t,password:n,email:a,location:o,userType:r}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password,a=e.userType;return this.auth.post("/auth/login",{username:t,password:n,userType:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),f=o.a.createContext(),E=f.Consumer,v=f.Provider,y=function(e){return function(t){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(l.a)(n,[{key:"render",value:function(){var t=this;return o.a.createElement(E,null,function(n){return o.a.createElement(e,Object.assign({login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin,isBusinessAccount:n.isBusinessAccount},t.props))})}}]),n}(a.Component)},k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggedin:!1,isBusinessAccount:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password,o=e.email,r=e.location,s=e.userType;g.signup({username:t,password:a,email:o,location:r,userType:s}).then(function(e){"business"===e.userType?n.setState({isLoggedin:!0,user:e,isBusinessAccount:!0}):n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password,o=e.userType;console.log(o),g.login({username:t,userType:o,password:a}).then(function(e){"business"===e.userType?n.setState({isLoggedin:!0,user:e,isBusinessAccount:!0}):n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){g.logout().then(function(){n.setState({isLoggedin:!1,user:null,isBusinessAccount:!1})}).catch(function(){})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.me().then(function(t){"business"===t.userType?e.setState({isLoggedin:!0,user:t,isLoading:!1,isBusinessAccount:!0}):e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,r=e.isBusinessAccount;return t?o.a.createElement("div",null,"Loading"):o.a.createElement(v,{value:{isLoggedin:n,isBusinessAccount:r,user:a,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),O=y(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return o.a.createElement("div",null,a?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"username: ",t.username),o.a.createElement("button",{onClick:n},"Logout")):null)}}]),t}(a.Component)),j=n(8),w=n(80),N=(n(29),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"worker-card"},o.a.createElement("div",{className:"worker-card-wrapper"},o.a.createElement("div",{className:"worker-card-img"},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),o.a.createElement("div",{className:"worker-card-info"},o.a.createElement("h4",null,this.props.name),o.a.createElement("h5",null,this.props.type),o.a.createElement("p",null,"Rating : ",this.props.rating),o.a.createElement("p",null,"Total Tips: ",this.props.tips))))}}]),t}(a.Component)),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"worker-card"},o.a.createElement("div",{className:"worker-card-wrapper"},o.a.createElement("div",{className:"worker-card-img"},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),o.a.createElement("div",{className:"worker-card-info"},o.a.createElement("h4",null,this.props.name),o.a.createElement("h5",null,this.props.type),o.a.createElement("p",null,"Points to Unlock : ",this.props.pointsToUnlock))))}}]),t}(a.Component),T=n(7),S=(n(56),new(function(){function e(){Object(c.a)(this,e),this.business=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"getBusiness",value:function(){return this.business.get("/business").then(function(e){return e.data})}},{key:"updateBusiness",value:function(e){return this.business.put("/business/update",e).then(function(e){return e.data})}},{key:"getAWorker",value:function(e){return this.business.get("/business/workers/".concat(e)).then(function(e){return e.data})}},{key:"addWorker",value:function(e){return this.business.post("/business/workers-add",e).then(function(e){return e.data})}},{key:"updateWorker",value:function(e,t){return this.business.put("/business/workers/".concat(t,"/update"),e).then(function(e){return e.data})}},{key:"deleteWorker",value:function(e){return this.business.delete("/business/workers/".concat(e,"/delete")).then(function(e){return e.data})}},{key:"getAPromotion",value:function(e){return this.business.get("/business/promotions/".concat(e)).then(function(e){return e.data})}},{key:"addPromotion",value:function(e){return this.business.post("/business/promotions-add",e).then(function(e){return e.data})}},{key:"updatePromotion",value:function(e,t){return this.business.put("/business/promotions/".concat(t,"/update"),e).then(function(e){return e.data})}},{key:"deletePromotion",value:function(e){return this.business.delete("/business/promotions/".concat(e,"/delete")).then(function(e){return e.data})}}]),e}())),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.location;S.updateBusiness({username:a,location:o}).then(function(){}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.state={username:"",imgUrl:"",location:"",numberOfWorkers:0,numberOfPromotions:0,showModal:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.getBusiness().then(function(t){var n=t;e.setState(Object(j.a)({numberOfWorkers:n.workers.length,numberOfPromotions:n.promotions.length},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"business-card-page"},o.a.createElement("div",{className:"business-card",onClick:this.toggleModal},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name}),o.a.createElement("h3",null,this.state.username),o.a.createElement("h4",null,this.state.location),o.a.createElement("p",null,"workers: ",this.state.numberOfWorkers),o.a.createElement("p",null,"promotions: ",this.state.numberOfPromotions)),this.state.showModal?o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Your business name:"),o.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),o.a.createElement("label",null,"Your business location:"),o.a.createElement("input",{type:"text",name:"location",value:this.state.location,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"BusinessUpdate"})):null)}}]),t}(a.Component),P=n(13),A=n.n(P),M=(n(70),y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",email:"",imgUrl:"",location:"",promotions:[],userType:"business",workers:[],toggleWorker:!0,togglePromotion:!1},n.toggleWorker=function(){n.setState({toggleWorker:!0,togglePromotion:!1})},n.togglePromotion=function(){n.setState({toggleWorker:!1,togglePromotion:!0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.getBusiness().then(function(t){var n=t;e.setState(Object(j.a)({},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state;return o.a.createElement("main",{className:"business-page"},this.state.toggleWorker?o.a.createElement(w.a,{to:"/business/workers-add",className:"worker-add-button"},"ADD WORKER"):o.a.createElement(w.a,{to:"/business/promotions-add",className:"promotion-add-button"},"ADD PROMOTION"),o.a.createElement(L,e),o.a.createElement("div",{className:"business-page-togglebuttons"},o.a.createElement("div",{className:"business-page-buttonworkers",onClick:this.toggleWorker},o.a.createElement("h4",null," WORKERS "),this.state.toggleWorker?o.a.createElement("div",{className:"selected-button"}," "):o.a.createElement("div",{className:"noselected-button"}," ")),o.a.createElement("div",{className:"business-page-buttonpromotions",onClick:this.togglePromotion},o.a.createElement("h4",null," PROMOTIONS "),this.state.togglePromotion?o.a.createElement("div",{className:"selected-button"}," "):o.a.createElement("div",{className:"noselected-button"}," "))),this.state.toggleWorker?e.workers.map(function(e){return o.a.createElement(A.a,{key:e._id,transitionName:"anim",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,component:"div",className:"worker-anim"},o.a.createElement(w.a,{to:"/business/workers/".concat(e._id),className:"worker-card-link"},o.a.createElement(N,e)))}):e.promotions.map(function(e){return o.a.createElement(A.a,{key:e._id,transitionName:"animP",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,component:"div",className:"promos-anim"},o.a.createElement(w.a,{to:"/business/promotions/".concat(e._id),className:"worker-card-link"},o.a.createElement(C,e)))}))}}]),t}(a.Component))),U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,o=t.type;console.log("Ha hecho submit"),S.addWorker({name:a,type:o}).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"worker-profile"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Your worker name:"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),o.a.createElement("label",null,"Your worker position:"),o.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"WorkerAdd"})))}}]),t}(a.Component),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.props.match.params.id,a=n.state,o=a.name,r=a.type;console.log("Ha hecho submit"),S.updateWorker({name:o,type:r},t).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.deleteWorker=function(){var e=n.props.match.params.id;S.deleteWorker(e).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:"",rating:0,tips:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.getAWorker(this.props.match.params.id).then(function(t){var n=t;e.setState(Object(j.a)({},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("article",{className:"worker-profile"},o.a.createElement("div",{className:"worker-profile-wrapper"},o.a.createElement("div",{className:"worker-profile-img"},o.a.createElement("img",{src:this.state.imgUrl,alt:this.state.name})),o.a.createElement("div",{className:"worker-profile-info"},o.a.createElement("h4",null,this.state.name),o.a.createElement("h5",null,this.state.type),o.a.createElement("p",null,this.state.rating),o.a.createElement("p",null,this.state.tips),o.a.createElement("button",{onClick:function(){return e.deleteWorker()}},"DELETE WORKER"))),o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Your worker name:"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),o.a.createElement("label",null,"Your worker position:"),o.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"UPDATE WORKER"})))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,o=t.type,r=t.pointsToUnlock;S.addPromotion({name:a,type:o,pointsToUnlock:r}).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:"",pointsToUnlock:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"worker-profile"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Promotion name:"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),o.a.createElement("label",null,"Kind of promotion:"),o.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),o.a.createElement("label",null,"Point to unlock promotion:"),o.a.createElement("input",{type:"number",name:"pointsToUnlock",value:this.state.pointsToUnlock,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"ADD PROMOTION"})))}}]),t}(a.Component),I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.props.match.params.id,a=n.state,o=a.name,r=a.type,s=a.pointsToUnlock;S.updatePromotion({name:o,type:r,pointsToUnlock:s},t).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.deletePromotion=function(){var e=n.props.match.params.id;S.deletePromotion(e).then(function(){n.props.history.push("/business")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:"",pointsToUnlock:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.getAPromotion(this.props.match.params.id).then(function(t){var n=t;e.setState(Object(j.a)({},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("article",{className:"worker-profile"},o.a.createElement("div",{className:"worker-profile-wrapper"},o.a.createElement("div",{className:"worker-profile-img"},o.a.createElement("img",{src:this.state.imgUrl,alt:this.state.name})),o.a.createElement("div",{className:"worker-profile-info"},o.a.createElement("h4",null,this.state.name),o.a.createElement("h5",null,this.state.type),o.a.createElement("p",null,this.state.pointsToUnlock),o.a.createElement("button",{onClick:function(){return e.deletePromotion()}},"DELETE PROMOTION"))),o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Promotion name:"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),o.a.createElement("label",null,"Kind of promotion:"),o.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),o.a.createElement("label",null,"Point to unlock promotion:"),o.a.createElement("input",{type:"number",name:"pointsToUnlock",value:this.state.pointsToUnlock,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"UPDATE PROMOTION"})))}}]),t}(a.Component),W=new(function(){function e(){Object(c.a)(this,e),this.customer=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"getCustomer",value:function(){return this.customer.get("/customer").then(function(e){return e.data})}},{key:"updateCustomer",value:function(e){return this.customer.put("/customer/update",e).then(function(e){return e.data})}},{key:"updateWallet",value:function(e){return this.customer.put("/customer/wallet/update",e).then(function(e){return e.data})}}]),e}()),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.balance;W.updateWallet({balance:t}).then(function(e){var t=e.customer.balance;n.setState({showModal:!n.state.showModal,balance:t}),n.props.updateBalance(t)}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.state={balance:0,showModal:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"bottom-navbar-wrapper"},this.state.showModal?o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Add $ to your wallet:"),o.a.createElement("input",{type:"number",name:"balance",value:this.state.balance,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"Add TO WALLET"})):null,o.a.createElement(w.a,{to:"/customer"},o.a.createElement("button",null,"Profile")),o.a.createElement("button",{onClick:this.toggleModal},"WALLET actual balance:",this.props.balance),o.a.createElement(w.a,{to:"/promotions"},o.a.createElement("button",null,"Promos")))}}]),t}(a.Component),F=(n(71),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.location;W.updateCustomer({username:a,location:o}).then(function(){n.setState({showModal:!n.state.showModal})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.state={showModal:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.imgUrl,a=e.location,r=e.balance;e.numberOfPromotions;return o.a.createElement("div",{className:"customer-card-page"},o.a.createElement("div",{className:"customer-card",onClick:this.toggleModal},o.a.createElement("img",{src:n,alt:t}),o.a.createElement("h3",null,t),o.a.createElement("h4",null,a),o.a.createElement("p",null,"your current balance is : ",r),o.a.createElement("p",null,"You have ",this.props.numberOfPromotions," active promotions")),this.state.showModal?o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"My name is:"),o.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),o.a.createElement("label",null,"I am around:"),o.a.createElement("input",{type:"text",name:"location",value:a,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"UPDATE CUSTOMER"})):null)}}]),t}(a.Component)),R=(n(72),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"promotion-card"},o.a.createElement("div",{className:"promotion-card-wrapper"},o.a.createElement("div",{className:"promotion-card-img"},o.a.createElement("img",{src:this.props.business.imgUrl,alt:this.props.business.name})),o.a.createElement("div",{className:"promotion-card-info"},o.a.createElement("h4",null,this.props.business.username),o.a.createElement("h5",null,this.props.business.location),o.a.createElement("p",null,"Total points: ",this.props.points))))}}]),t}(a.Component)),Y=(n(73),y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",email:"",imgUrl:"",location:"",balance:0,pinnedbusiness:null,userType:"customer",loading:!0,numberOfPromotions:0},n.updateBalance=function(e){n.setState({balance:e})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.getCustomer().then(function(t){var n=t;e.setState(Object(j.a)({},n,{loading:!1,numberOfPromotions:t.pinnedbusiness.length}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.pinnedbusiness,n=e.loading;return o.a.createElement("main",null,o.a.createElement(x,Object.assign({},this.state,{updateBalance:this.updateBalance})),o.a.createElement("section",{className:"customer-page"},n?null:o.a.createElement(F,this.state),o.a.createElement("div",{className:"customer-page-togglebuttons"},o.a.createElement("div",{className:"customer-page-buttonworkers"},o.a.createElement("h4",null," Your tipped places: "),o.a.createElement("div",{className:"selected-button"}))),t?t.map(function(e){return o.a.createElement(A.a,{key:e.business._id,transitionName:"anim",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,component:"div",className:"worker-anim"},o.a.createElement(w.a,{to:"/promotions/".concat(e.business._id),className:"worker-card-link"},o.a.createElement(R,e)))}):o.a.createElement("h3",null,"You haven\xb4t tipped yet")))}}]),t}(a.Component))),J=(n(17),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"promotion-card"},o.a.createElement("div",{className:"promotion-card-wrapper"},o.a.createElement("div",{className:"promotion-card-img"},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.username})),o.a.createElement("div",{className:"promotion-card-info"},o.a.createElement("h4",null,this.props.username),o.a.createElement("h5",null,this.props.location))))}}]),t}(a.Component)),G=new(function(){function e(){Object(c.a)(this,e),this.promotions=b.a.create({baseURL:"https://tippme.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"getPromotions",value:function(){return this.promotions.get("/promotions").then(function(e){return e.data})}},{key:"getAPromotion",value:function(e){return this.promotions.get("/promotions/".concat(e)).then(function(e){return e.data})}},{key:"getAPromotionsWorker",value:function(e,t){return this.promotions.get("/promotions/".concat(t,"/workers/").concat(e)).then(function(e){return e.data})}},{key:"updateTipWorker",value:function(e,t,n){return this.promotions.put("/promotions/".concat(n,"/workers/").concat(t,"/rate"),e).then(function(e){return e.data})}},{key:"getAPromotionsPromo",value:function(e,t){return this.promotions.get("/promotions/".concat(t,"/promotions/").concat(e)).then(function(e){return e.data})}},{key:"claimPromotion",value:function(e,t){return this.promotions.put("/promotions/".concat(t,"/workers/").concat(e,"/rate")).then(function(e){return e.data})}}]),e}()),_=(n(74),y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={AllPromotions:null,userType:"customer"},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;G.getPromotions().then(function(t){var n=t;e.setState({AllPromotions:n})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.AllPromotions;return o.a.createElement("main",null,o.a.createElement(x,null),o.a.createElement("section",{className:"promotions-page"},o.a.createElement("h1",null,"All promotions"),o.a.createElement("div",{className:"customer-page-togglebuttons"},o.a.createElement("div",{className:"customer-page-buttonworkers"},o.a.createElement("h4",null," All promotions: "),o.a.createElement("div",{className:"selected-button"}," "))),e?e.map(function(e){return o.a.createElement(A.a,{key:e._id,transitionName:"anim",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,component:"div",className:"worker-anim"},o.a.createElement(w.a,{to:"/promotions/".concat(e._id),className:"worker-card-link"},o.a.createElement(J,e)))}):o.a.createElement("h3",null,"There are no Promotions")))}}]),t}(a.Component))),Q=(n(75),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("article",{className:"promotion-card"},o.a.createElement("div",{className:"promotion-card-wrapper"},o.a.createElement("div",{className:"promotion-card-img"},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.name})),o.a.createElement("div",{className:"promotion-card-info"},o.a.createElement("h4",null,this.props.name),o.a.createElement("h5",null,this.props.type),o.a.createElement("p",null,"Rating : ",this.props.rating),o.a.createElement("p",null,"Total Tips: ",this.props.tips))))}}]),t}(a.Component)),z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props.totalPoints),o.a.createElement("div",null,o.a.createElement("div",{className:"promo-img-frame"},o.a.createElement("img",{src:this.props.imgUrl,alt:this.props.username,className:"promo-img"})),o.a.createElement("p",null,this.props.pointsToUnlock))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).TotalPoints=function(e){var t=e.promotions,n=0;return t.map(function(e){n+=e.pointsToUnlock}),n},n.state={username:"",email:"",imgUrl:"",location:"",promotions:[],workers:[],totalPoints:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;G.getAPromotion(this.props.match.params.id).then(function(t){var n=e.TotalPoints(t);e.setState(Object(j.a)({},t,{totalPoints:n}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=(t.email,t.imgUrl),r=t.location,s=t.promotions,i=t.workers,c=t.totalPoints;return o.a.createElement("section",null,o.a.createElement(x,null),o.a.createElement("article",{className:"promotions-profile"},o.a.createElement("div",{className:"promotions-profile-wrapper"},o.a.createElement("div",{className:"promotions-profile-img"},o.a.createElement("img",{src:a,alt:n})),o.a.createElement("div",{className:"promotions-profile-info"},o.a.createElement("h4",null,n),o.a.createElement("h5",null,r))),o.a.createElement("div",{className:"promotion-bar-card"},o.a.createElement("h4",null," Avaliable promotions: "),s.map(function(t){return o.a.createElement(w.a,{key:t._id,to:"/promotions/".concat(e.props.match.params.id,"/promotions/").concat(t._id)},o.a.createElement(z,Object.assign({},t,{totalPoints:c})))})),o.a.createElement("div",{className:"customer-page-togglebuttons"},o.a.createElement("div",{className:"customer-page-buttonworkers"},o.a.createElement("h4",null," Tip a worker: "),o.a.createElement("div",{className:"selected-button"}," "))),i.map(function(t){return o.a.createElement(A.a,{key:t._id,transitionName:"anim",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,component:"div",className:"worker-anim"},o.a.createElement(w.a,{to:"/promotions/".concat(e.props.match.params.id,"/workers/").concat(t._id,"/"),className:"promotion-worker-card-link"},o.a.createElement(Q,t)))})))}}]),t}(a.Component),q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.workerId,o=t.id,r=n.state,s=r.tips,i=r.rating,c=100*s;G.updateTipWorker({tips:s,rating:i,points:c},a,o).then(function(){n.props.history.goBack()}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:"",rating:0,tips:0,workerId:n.props.match.params.workerId,id:n.props.match.params.id},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.workerId,a=t.id;G.getAPromotionsWorker(n,a).then(function(t){var n=t;e.setState(Object(j.a)({},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("article",{className:"worker-profile"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"TIP ",this.state.name," !"),o.a.createElement("input",{type:"number",name:"tips",value:this.state.tips,onChange:this.handleChange}),o.a.createElement("label",null,"Rating:"),o.a.createElement("input",{type:"number",name:"rating",value:this.state.rating,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"TIP !"})))}}]),t}(a.Component),K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.promoId,o=t.id;G.claimPromotion(a,o).then(function(){n.props.history.goBack()}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n.state={imgUrl:"",name:"",type:"",rating:0,tips:0,promoId:n.props.match.params.promoId,id:n.props.match.params.id},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.promoId,a=t.id;G.getAPromotionsPromo(n,a).then(function(t){var n=t;e.setState(Object(j.a)({},n))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("article",{className:"promo-profile"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("div",{className:"promotion-get-wrapper"},o.a.createElement("h2",null,this.state.name),o.a.createElement("img",{src:this.state.imgUrl,alt:""})),o.a.createElement("input",{type:"submit",value:"GET PROMO!"})))}}]),t}(a.Component),V=y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){return o.a.createElement("div",{className:"home-splash-wrapper"},o.a.createElement("div",{className:"home-splash-title"},o.a.createElement("img",{src:"https://cdn.2kgames.com/2019/03/29/5c9e4c5cc8eccBL3_logo.png",alt:""})),o.a.createElement("div",{className:"home-splash-description"},o.a.createElement("img",{src:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/c25a34d3-beb0-44ae-8a1d-d442502cb59d/dbg2gy3-e0412cb4-31d3-4007-ae09-f79cf53aa699.png/v1/fill/w_894,h_894,strp/rick_icon_by_niorunn_dbg2gy3-pre.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTYwMCIsInBhdGgiOiJcL2ZcL2MyNWEzNGQzLWJlYjAtNDRhZS04YTFkLWQ0NDI1MDJjYjU5ZFwvZGJnMmd5My1lMDQxMmNiNC0zMWQzLTQwMDctYWUwOS1mNzljZjUzYWE2OTkucG5nIiwid2lkdGgiOiI8PTE2MDAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.IHhZCkjOSUblG0Qr6mjdI-ZF9GJ5JJg4sKUG3p51EKU",alt:""})),o.a.createElement("div",{className:"home-splash-buttons"},o.a.createElement(w.a,{to:"/signup"},o.a.createElement("button",{className:"home-button-signup"},"SIGN UP")),o.a.createElement("p",{className:"login-link-text-color"},"Already have an account,",o.a.createElement(w.a,{to:"/login"},"LOG IN"))))}}]),t}(a.Component)),X=y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:"",email:"",location:"",userType:""},n.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},n.bodyBgBusiness=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-business"),e.classList.remove("signup-bg-color-customer")},n.bodyBgCustomer=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password,r=t.email,s=t.location,i=t.userType;n.props.signup({username:a,password:o,email:r,location:s,userType:i})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email,r=e.location;return o.a.createElement("section",{className:"signup-wrapper"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("h1",null,"Sign up"),o.a.createElement("h4",null,"Choose your type of user"),o.a.createElement("div",{className:"radio-wrapper"},o.a.createElement("label",{className:"radio-checked"},o.a.createElement("input",{type:"radio",name:"userType",placeholder:"customer",value:"customer",onChange:this.handleChange}),o.a.createElement("span",{className:"checkmark-customer",onClick:this.bodyBgCustomer},o.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png",alt:""}),o.a.createElement("h4",null,"I am a Customer"))),o.a.createElement("label",{className:"radio-checked"},o.a.createElement("input",{type:"radio",name:"userType",placeholder:"business",value:"business",onChange:this.handleChange}),o.a.createElement("span",{className:"checkmark-business",onClick:this.bodyBgBusiness},o.a.createElement("img",{src:"http://chittagongit.com/download/252559",alt:""}),o.a.createElement("h4",null,"I am a Business")))),""!==this.state.userType?o.a.createElement("div",null,"business"===this.state.userType?o.a.createElement("h4",{style:{color:"#ff2f2f"}},"Add workers and create promotions"):o.a.createElement("h4",{style:{color:"#ff9d2f"}},"Tip workers and get promotions!"),"business"===this.state.userType?o.a.createElement("label",null,"Business name:"):o.a.createElement("label",null,"Customer name:"),o.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange,required:!0}),o.a.createElement("label",null,"Email:"),o.a.createElement("input",{type:"text",name:"email",value:a,onChange:this.handleChange,required:!0}),o.a.createElement("label",null,"Location:"),o.a.createElement("input",{type:"text",name:"location",value:r,onChange:this.handleChange,required:!0}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange,required:!0}),"business"===this.state.userType?o.a.createElement("input",{type:"submit",value:"SIGN UP",className:"form-button-business"}):o.a.createElement("input",{type:"submit",value:"SIGN UP",className:"form-button-customer"})):null),o.a.createElement("p",{className:"login-link-text-color"},"Already have account?",o.a.createElement(w.a,{to:"/login"},"Login")))}}]),t}(a.Component)),H=y(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:"",userType:""},n.bodyBgDefault=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-black"),e.classList.remove("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},n.bodyBgBusiness=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-business"),e.classList.remove("signup-bg-color-customer")},n.bodyBgCustomer=function(){var e=document.querySelector("body");e.classList.add("signup-bg-color-customer"),e.classList.remove("signup-bg-color-business")},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password,r=t.userType;n.props.login({username:a,password:o,userType:r})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(T.a)({},a,o))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.bodyBgDefault()}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return o.a.createElement("section",{className:"signup-wrapper"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("h1",null,"Log in"),o.a.createElement("h4",null,"Choose your type of user"),o.a.createElement("div",{className:"radio-wrapper"},o.a.createElement("label",{className:"radio-checked"},o.a.createElement("input",{type:"radio",name:"userType",placeholder:"customer",value:"customer",onChange:this.handleChange}),o.a.createElement("span",{className:"checkmark-customer",onClick:this.bodyBgCustomer},o.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png",alt:""}),o.a.createElement("h4",null,"I am a Customer"))),o.a.createElement("label",{className:"radio-checked"},o.a.createElement("input",{type:"radio",name:"userType",placeholder:"business",value:"business",onChange:this.handleChange}),o.a.createElement("span",{className:"checkmark-business",onClick:this.bodyBgBusiness},o.a.createElement("img",{src:"http://chittagongit.com/download/252559",alt:""}),o.a.createElement("h4",null,"I am a Business")))),""!==this.state.userType?o.a.createElement("div",null,"business"===this.state.userType?o.a.createElement("label",null,"Business name:"):o.a.createElement("label",null,"Customer name:"),o.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),"business"===this.state.userType?o.a.createElement("input",{type:"submit",value:"LOG IN",className:"form-button-business"}):o.a.createElement("input",{type:"submit",value:"LOG IN",className:"form-button-customer"})):null),o.a.createElement("p",{className:"login-link-text-color"},"Don't have an account?",o.a.createElement(w.a,{to:"/signup"},"Sign up")))}}]),t}(a.Component)),$=n(16),ee=n(83),te=n(81);var ne=y(function(e){var t=e.component,n=e.isLoggedin,a=e.isBusinessAccount,r=Object($.a)(e,["component","isLoggedin","isBusinessAccount"]);return o.a.createElement(ee.a,Object.assign({},r,{render:function(e){return n?n&&a?o.a.createElement(t,e):o.a.createElement(te.a,{to:"/customer"}):o.a.createElement(te.a,{to:"/login"})}}))});var ae=y(function(e){var t=e.component,n=e.isLoggedin,a=e.isBusinessAccount,r=Object($.a)(e,["component","isLoggedin","isBusinessAccount"]);return o.a.createElement(ee.a,Object.assign({},r,{render:function(e){return n?n&&!a?o.a.createElement(t,e):o.a.createElement(te.a,{to:"/business"}):o.a.createElement(te.a,{to:"/login"})}}))});var oe=y(function(e){var t=e.component,n=e.isLoggedin,a=e.isBusinessAccount,r=Object($.a)(e,["component","isLoggedin","isBusinessAccount"]);return o.a.createElement(ee.a,Object.assign({},r,{render:function(e){return n?n&&a?o.a.createElement(te.a,{to:"/business"}):o.a.createElement(te.a,{to:"/customer"}):o.a.createElement(t,e)}}))}),re=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k,null,o.a.createElement("div",{className:"container"},o.a.createElement(O,null),o.a.createElement(h.a,null,o.a.createElement(oe,{path:"/",component:V,exact:!0}),o.a.createElement(oe,{path:"/signup",component:X,exact:!0}),o.a.createElement(oe,{path:"/login",component:H,exact:!0}),o.a.createElement(ne,{path:"/business",component:M,exact:!0}),o.a.createElement(ne,{path:"/business/workers-add",component:U,exact:!0}),o.a.createElement(ne,{path:"/business/workers/:id",component:B,exact:!0}),o.a.createElement(ne,{path:"/business/promotions-add",component:D,exact:!0}),o.a.createElement(ne,{path:"/business/promotions/:id",component:I,exact:!0}),o.a.createElement(ae,{path:"/customer",component:Y,exact:!0}),o.a.createElement(ae,{path:"/promotions",component:_,exact:!0}),o.a.createElement(ae,{path:"/promotions/:id",component:Z,exact:!0}),o.a.createElement(ae,{path:"/promotions/:id/workers/:workerId",component:q,exact:!0}),o.a.createElement(ae,{path:"/promotions/:id/promotions/:promoId",component:K,exact:!0}))))}}]),t}(a.Component);n(77);s.a.render(o.a.createElement(i.a,null,o.a.createElement(re,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.f92ae324.chunk.js.map